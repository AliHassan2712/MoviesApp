This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
eslint.config.mjs
next.config.ts
package.json
postcss.config.mjs
public/assets/images/background.jpg
public/assets/images/img_hero.jpg
public/assets/images/movies.jpg
public/file.svg
public/globe.svg
public/next.svg
public/vercel.svg
public/window.svg
README.md
src/app/account/favorites/page.tsx
src/app/account/layout.tsx
src/app/account/profile/change-password/page.tsx
src/app/account/profile/edit/page.tsx
src/app/account/profile/page.tsx
src/app/account/settings/page.tsx
src/app/account/watchlist/page.tsx
src/app/actors/[id]/page.tsx
src/app/actors/layout.tsx
src/app/actors/page.tsx
src/app/auth/forget-password/page.tsx
src/app/auth/layout.tsx
src/app/auth/login/page.tsx
src/app/auth/page.tsx
src/app/auth/reset-password/[token]/page.tsx
src/app/auth/signup/page.tsx
src/app/error.tsx
src/app/genres/[id]/page.tsx
src/app/genres/layout.tsx
src/app/genres/page.tsx
src/app/globals.css
src/app/layout.tsx
src/app/loading.tsx
src/app/movies/[id]/page.tsx
src/app/movies/layout.tsx
src/app/movies/page.tsx
src/app/not-found.tsx
src/app/page.tsx
src/app/search/layout.tsx
src/app/search/page.tsx
src/app/series/[id]/page.tsx
src/app/series/layout.tsx
src/app/series/page.tsx
src/assets/.gitkeep
src/components/auth/GuestRoute.tsx
src/components/auth/ProtectedRoute.tsx
src/components/containers/Container.tsx
src/components/header/DesktopNav.tsx
src/components/header/Header.tsx
src/components/header/MobileMenu.tsx
src/components/header/NotificationsMenu.tsx
src/components/header/SearchBar.tsx
src/components/header/UserMenu.tsx
src/components/skeletons/ActorCardSkeleton.tsx
src/components/skeletons/ActorDetailsSkeleton.tsx
src/components/skeletons/ActorsGridSkeleton.tsx
src/components/skeletons/CardSkeleton.tsx
src/components/skeletons/GenreButtonSkeleton.tsx
src/components/skeletons/GenreSkeleton.tsx
src/components/skeletons/GenresSidebarSkeleton.tsx
src/components/skeletons/GenresTabsSkeleton.tsx
src/components/skeletons/GridSkeleton.tsx
src/components/skeletons/HeroSkeleton.tsx
src/components/ui/AuthBackground.tsx
src/components/ui/AuthCard.tsx
src/components/ui/AuthHeader.tsx
src/components/ui/button.tsx
src/components/ui/Input.tsx
src/components/ui/Pagination.tsx
src/components/ui/PrimaryButton.tsx
src/components/ui/SocialButtons.tsx
src/components/ui/Spinner.tsx
src/constant/PATHS.ts
src/contexts/AuthContext.tsx
src/contexts/FavoriteContext.tsx
src/contexts/LangContext.tsx
src/contexts/ThemeContext.tsx
src/hooks/auth/useSocialAuth.ts
src/hooks/hero/useHeroItems.ts
src/lib/api/useApiHandler.ts
src/lib/utils/cn.ts
src/pages/account/favorites/assets/.gitkeep
src/pages/account/favorites/components/.gitkeep
src/pages/account/favorites/favorites.tsx
src/pages/account/favorites/hooks/useFavorites.ts
src/pages/account/login/.gitkeep
src/pages/account/profile/.gitkeep
src/pages/account/profile/change-password/ChangePasswordPage.tsx
src/pages/account/profile/change-password/hooks/useChangePassword.ts
src/pages/account/profile/change-password/validation.ts
src/pages/account/profile/components/ProfileCard.tsx
src/pages/account/profile/components/ProfileInfoRow.tsx
src/pages/account/profile/edit/EditProfilePage.tsx
src/pages/account/profile/edit/hooks/useEditProfile.ts
src/pages/account/profile/edit/validation.ts
src/pages/account/profile/profilePage.tsx
src/pages/account/reset-password/.gitkeep
src/pages/account/signup/.gitkeep
src/pages/account/watchlist/assets/.gitkeep
src/pages/account/watchlist/components/.gitkeep
src/pages/account/watchlist/hooks/.gitkeep
src/pages/account/watchlist/watchlist.tsx
src/pages/actors/ActorDetails.tsx
src/pages/actors/actors.tsx
src/pages/actors/assets/.gitkeep
src/pages/actors/components/.gitkeep
src/pages/actors/hooks/useActors.ts
src/pages/auth/forget-password/assets/imgs/background.png
src/pages/auth/forget-password/components/ForgotPasswordForm.tsx
src/pages/auth/forget-password/forgetPassword.tsx
src/pages/auth/forget-password/hooks/useForgotPassword.ts
src/pages/auth/forget-password/validation.ts
src/pages/auth/login/assets/imgs/background.png
src/pages/auth/login/components/LoginForm.tsx
src/pages/auth/login/hooks/useLogin.ts
src/pages/auth/login/login.tsx
src/pages/auth/login/validation.ts
src/pages/auth/reset-password/assets/imgs/background.png
src/pages/auth/reset-password/components/ResetPasswordForm.tsx
src/pages/auth/reset-password/hooks/useResetPassword.ts
src/pages/auth/reset-password/resetPassword.tsx
src/pages/auth/reset-password/validation.ts
src/pages/auth/signup/assets/imgs/background.png
src/pages/auth/signup/components/SignupForm.tsx
src/pages/auth/signup/hooks/useSignup.ts
src/pages/auth/signup/signup.tsx
src/pages/auth/signup/validation.ts
src/pages/dashboard/components/AdminRoute.tsx
src/pages/genres/assets/.gitkeep
src/pages/genres/components/.gitkeep
src/pages/genres/GenreDetails/components/section.tsx
src/pages/genres/GenreDetails/GenreDetails.tsx
src/pages/genres/genres.tsx
src/pages/genres/hooks/useGenres.ts
src/pages/home/assets/.gitkeep
src/pages/home/components/.gitkeep
src/pages/home/components/Hero.tsx
src/pages/home/Home.tsx
src/pages/home/hooks/.gitkeep
src/pages/home/index.tsx
src/pages/movies/assets/.gitkeep
src/pages/movies/components/Movies.tsx
src/pages/movies/hooks/useMovies.ts
src/pages/movies/movies.tsx
src/pages/search/components/ActorsResults.tsx
src/pages/search/components/MoviesResults.tsx
src/pages/search/components/SeriesResults.tsx
src/pages/search/hooks/useSearch.ts
src/pages/search/search.tsx
src/pages/series/assets/.gitkeep
src/pages/series/components/Series.tsx
src/pages/series/components/SingleSeries.tsx
src/pages/series/hooks/useSeries.ts
src/pages/series/hooks/useSingleSeries.ts
src/pages/series/series.tsx
src/pages/setting/setting.tsx
src/types/geners.ts
src/types/hero.ts
src/types/movie.ts
src/types/pagination.ts
src/types/series.ts
src/types/user.ts
tailwind.config.ts
tsconfig.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/pages/series/components/SingleSeries.tsx">
"use client";

import { useMemo } from "react";
import Image from "next/image";
import Link from "next/link";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { faHeart } from "@fortawesome/free-solid-svg-icons";
import { faHeart as faHeartRegular } from "@fortawesome/free-regular-svg-icons";
import { faShareNodes } from "@fortawesome/free-solid-svg-icons";

import { Series, Genre, Cast } from "@/types/series";
import { useSingleSeries } from "../hooks/useSingleSeries";
import { useSeries } from "../hooks/useSeries";
import { useFavorite } from "../../../contexts/FavoriteContext";
import HeroSkeleton from "@/components/skeletons/HeroSkeleton";
import { Container } from "@/components/containers/Container";
import { PATHS } from "@/constant/PATHS";
import GridSkeleton from "@/components/skeletons/GridSkeleton";

type SingleSeriesProps = {
  id: string;
};

export default function SingleSeries({ id }: SingleSeriesProps) {
  const { singleSeries, isloading } = useSingleSeries(id);
  const { series, loading } = useSeries();
  const { favoriteList, toggleFavorite } = useFavorite();

  // Similar series
  const similarSeries: Series[] = useMemo(() => {
    if (isloading || loading || !singleSeries || !series) return [];
    const genreSet = singleSeries.genres?.map((g)=>g._id);
    return series.filter(
      (s) =>
        s._id !== singleSeries._id &&
        s.genres?.some((g) => genreSet?.includes(String(g)))
    );
  }, [isloading, loading, singleSeries, series]);

  return (
    <div className="flex-1">
      {/* Hero Section */}
      {!singleSeries || isloading ? (
        <HeroSkeleton />
      ) : (
        <HeroSection series={singleSeries} />
      )}

      <Container>
        {/* Series Details */}
        {!singleSeries || isloading ? null : (
          <>
            <SeriesDetails
              series={singleSeries}
              favoriteList={favoriteList}
              toggleFavorite={toggleFavorite}
            />
            <CastList cast={singleSeries.cast} />
          </>
        )}

        {/* Similar Series */}
        <div className="flex-1 px-5 mt-10">
          {loading ? (
            <GridSkeleton />
          ) : similarSeries.length === 0 ? (
            <p className="text-center text-muted">No similar series found.</p>
          ) : (
            <SimilarSeriesGrid
              series={similarSeries}
              favoriteList={favoriteList}
              toggleFavorite={toggleFavorite}
            />
          )}
        </div>
      </Container>
    </div>
  );
}

/* ------------------------- Hero Section ------------------------- */
type HeroSectionProps = {
  series: Series;
};

function HeroSection({ series }: HeroSectionProps) {
  return (
    <div className="relative h-[60vh] md:h-screen lg:h-[85vh] animate-fade">
      <Image
        src={series.backdrop || "/assets/images/img_hero.jpg"}
        alt={series.name || ""}
        fill
        className="object-cover"
      />
      <div className="absolute inset-0 bg-hero-gradient" />
      <div className="absolute inset-0 bg-overlay" />
      <div className="absolute inset-0 flex items-end px-6 md:px-12 py-16">
        <div className="max-w-4xl text-white animate-fade-up">
          <h1 className="text-3xl md:text-5xl font-extrabold">{series.name}</h1>
          <p className="mt-4 text-white/90 max-w-2xl">
            {series.description || "Featured content you should watch üì∫"}
          </p>
        </div>
      </div>
    </div>
  );
}

/* ------------------------- Series Details ------------------------- */
type SeriesDetailsProps = {
  series: Series;
  favoriteList: (string|number)[];
  toggleFavorite: (id: string) => void;
};

function SeriesDetails({ series, favoriteList, toggleFavorite }: SeriesDetailsProps) {
  return (
    <div className="mt-10 flex flex-col gap-y-8 py-10">
      <h1 className="text-3xl font-bold text-red-500">{series.name}</h1>

      {/* Genres */}
      <ul className="flex flex-wrap md:flex-nowrap gap-5">
        {series.genres?.map((genre: Genre) => (
          <li key={genre._id} className="bg-black text-muted px-2 py-1 rounded-xl">
            {genre.name_en}
          </li>
        ))}
      </ul>

      {/* Description */}
      <div>
        <p className="text-3xl text-red-500 mb-2">Description</p>
        <p className="text-[16px] text-muted mt-1">{series.description}</p>
      </div>

      {/* Actions */}
      <div className="w-[80%] md:w-[20%] flex justify-between items-center gap-2">
        <button
          className={`cursor-pointer border p-2 rounded flex items-center gap-1 ${
            favoriteList.includes(series._id) ? "bg-red-500" : "bg-muted"
          }`}
          onClick={() => toggleFavorite(series._id)}
        >
          Add to favorite
          <FontAwesomeIcon
            icon={favoriteList.includes(series._id) ? faHeart : faHeartRegular}
            className={`text-xl ${
              favoriteList.includes(series._id) ? "text-white" : "text-red-500"
            }`}
          />
        </button>
        <button className="cursor-pointer border p-2 rounded flex items-center gap-1">
          Share <FontAwesomeIcon icon={faShareNodes} />
        </button>
      </div>
    </div>
  );
}

/* ------------------------- Cast List ------------------------- */
type CastListProps = {
  cast: Cast[];
};

function CastList({ cast }: CastListProps) {
  if (!cast || cast.length === 0)
    return <div className="text-center text-muted">No Cast Found for this Series</div>;

  return (
    <>
      <h1 className="text-3xl font-bold text-red-500">Cast</h1>
      <ul className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-y-5 p-2">
        {cast.map((actor: Cast) => (
          <li
            key={actor._id}
            className="flex-shrink-1 w-60 bg-card rounded-xl shadow-lg hover:shadow-xl transition-shadow"
          >
            <Image
              src={actor.profilePath || "/assets/images/img_hero.jpg"}
              alt={actor.name}
              width={400}
              height={300}
              className="w-full h-70 md:h-80 object-cover"
            />
            <div className="p-2 text-center flex flex-col items-center justify-center gap-2 text-[16px]">
              <h2 className="text-sm font-semibold text-main truncate">{actor.name}</h2>
              <p className="text-xs text-muted">{`Popularity: ${actor.popularity.toFixed(
                1
              )}`}</p>
            </div>
          </li>
        ))}
      </ul>
    </>
  );
}

/* ------------------------- Similar Series Grid ------------------------- */
type SimilarSeriesGridProps = {
  series: Series[];
  favoriteList: (number|string)[];
  toggleFavorite: (id: string) => void;
};

function SimilarSeriesGrid({ series, favoriteList, toggleFavorite }: SimilarSeriesGridProps) {
  return (
    <>
      <h1 className="text-3xl font-bold text-red-500 mb-3 p-5">Similar Series</h1>
      <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
        {series.map((item) => (
          <Link
            key={item._id}
            href={PATHS.SERIES_DETAILS(item._id)}
            className="p-4 bg-card rounded-xl shadow transition hover:shadow-lg"
          >
            <div className="relative overflow-hidden rounded-lg">
              <Image
                src={item.poster || "/assets/images/img_hero.jpg"}
                alt={item.name}
                width={400}
                height={300}
                className="w-full h-50 object-cover transition-transform duration-500 hover:scale-110 mb-3"
              />
              <button
                className="absolute top-3 right-3 bg-soft p-2 rounded-full shadow"
                onClick={(e) => {
                  e.preventDefault();
                  toggleFavorite(item._id);
                }}
              >
                <FontAwesomeIcon
                  icon={favoriteList.includes(item._id) ? faHeart : faHeartRegular}
                  className={`text-xl ${
                    favoriteList.includes(item._id) ? "text-red-500" : "text-muted"
                  }`}
                />
              </button>
            </div>
            <p className="font-bold mb-1">{item.name}</p>
            <p className="text-sm text-muted">{item.releaseYear}</p>
          </Link>
        ))}
      </div>
    </>
  );
}
</file>

<file path="src/pages/series/hooks/useSingleSeries.ts">
"use client";

import { Series } from "@/types/series";
import { useState, useEffect } from "react";

export const useSingleSeries = (id?: string) => {
  const [singleSeries, setSingleSeries ] = useState<Series|null>(null);
  const [isloading, setIsLoading] = useState(true);

  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  useEffect(() => {
    async function fetchData() {
      setIsLoading(true);
      try {
        const url = `${API_URL}/series${id ? `/${id}` : ""}`;
        const seriesRes = await fetch(url);
        const seriesData = await seriesRes.json();
        console.log(url)
        setSingleSeries(seriesData.data);
      } catch (err) {
        console.error("Fetch error:", err);
      } finally {
        setIsLoading(false);
      }
    }

    fetchData();
  }, [API_URL, id]); 

  return {
    singleSeries,
    isloading,
  };
};
</file>

<file path="src/app/account/profile/change-password/page.tsx">
// protected route wrapper for change password page
import ProtectedRoute from "@/components/auth/ProtectedRoute";

// change password page component
import ChangePasswordPage from "@/pages/account/profile/change-password/ChangePasswordPage";

export default function ChangePassword() {
  return (
    <ProtectedRoute>
      <ChangePasswordPage />
    </ProtectedRoute>
  );
}
</file>

<file path="src/app/account/profile/edit/page.tsx">
// protected route wrapper for edit profile page
import ProtectedRoute from "@/components/auth/ProtectedRoute";

// edit profile page component
import EditProfilePage from "@/pages/account/profile/edit/EditProfilePage";

export default function EditProfile() {
  return (
    <ProtectedRoute>
      <EditProfilePage />
    </ProtectedRoute>
  );
}
</file>

<file path="src/app/account/settings/page.tsx">
// settings page component
import SettingsPage from '@/pages/setting/setting'

export default function Settings() {
  return (
    <SettingsPage />
  )
}
</file>

<file path="src/app/actors/layout.tsx">
//components
import Header from "@/components/header/Header";

export default function RootLayout({ children }: { children: React.ReactNode }) {
    return (
        <>
            <Header />
            {children}
        </>

    );
}
</file>

<file path="src/app/auth/layout.tsx">
// React
import { ReactNode } from "react";

// layout for auth pages (login, signup, forgot password, reset password)
import AuthBackground from "@/components/ui/AuthBackground";
import defaultBg from "../../../public/assets/images/background.jpg";

export default function AuthLayout({ children }: { children: ReactNode }) {
  return (
    <div className="relative min-h-screen flex items-center justify-center bg-main overflow-hidden">
      <AuthBackground image={defaultBg} />
        {children}
    </div>
  );
}
</file>

<file path="src/app/error.tsx">
"use client";

// React
import { useEffect } from "react";

export default function GlobalError({
  error,
  reset,
}: {
  error: Error;
  reset: () => void;
}) {
  useEffect(() => {
    console.error("Global Error:", error);
  }, [error]);

  return (
    <div className="min-h-screen flex items-center justify-center bg-main px-6">
      <div className="max-w-md w-full bg-card border border-main rounded-xl p-8 text-center shadow-xl">

        <h1 className="text-3xl font-bold text-primary mb-3">
          Something went wrong üò¢
        </h1>

        <p className="text-muted mb-6">
          An unexpected error occurred. Please try again.
        </p>

        <button
          onClick={reset}
          className="btn-primary px-6 py-3 rounded-lg font-semibold"
        >
          Try Again
        </button>
      </div>
    </div>
  );
}
</file>

<file path="src/app/genres/layout.tsx">
//components
import Header from "@/components/header/Header";

export default function RootLayout({ children }: { children: React.ReactNode }) {
    return (
        <>
            <Header />
            {children}
        </>

    );
}
</file>

<file path="src/app/loading.tsx">
export default function GlobalLoading() {
  return (
    <div className="fixed inset-0 z-[9999] flex items-center justify-center bg-main">
      <div className="flex flex-col items-center gap-4">
        {/* Spinner */}
        <div className="w-10 h-10 border-4 border-main border-t-primary rounded-full animate-spin" />

        {/* Text */}
        <p className="text-muted text-sm tracking-wide">
          Loading, please wait...
        </p>
      </div>
    </div>
  );
}
</file>

<file path="src/app/movies/layout.tsx">
//components
import Header from "@/components/header/Header";

export default function RootLayout({ children }: { children: React.ReactNode }) {
    return (
        <>
            <Header />
            {children}
        </>

    );
}
</file>

<file path="src/app/not-found.tsx">
//Next
import Link from "next/link";

//paths constant
import { PATHS } from "@/constant/PATHS";

export default function NotFound() {
  return (
    <div className="min-h-screen flex items-center justify-center bg-main text-center px-6">
      <div>
        <h1 className="text-6xl font-extrabold text-primary mb-4">404</h1>
        <p className="text-muted mb-6">
          The page you are looking for does not exist.
        </p>
        <Link
          href={PATHS.HOME}
          className="btn-primary px-6 py-3 rounded-lg font-semibold"
        >
          Go Home
        </Link>
      </div>
    </div>
  );
}
</file>

<file path="src/app/search/layout.tsx">
//components
import Header from "@/components/header/Header";

export default function RootLayout({ children }: { children: React.ReactNode }) {
    return (
        <>
            <Header />
            {children}
        </>

    );
}
</file>

<file path="src/app/search/page.tsx">
import SearchPageComponent from "@/pages/search/search";

export default function SearchPage() {
  return <SearchPageComponent />;
}
</file>

<file path="src/app/series/layout.tsx">
//components
import Header from "@/components/header/Header";

export default function RootLayout({ children }: { children: React.ReactNode }) {
    return (
        <>
            <Header />
            {children}
        </>

    );
}
</file>

<file path="src/components/auth/GuestRoute.tsx">
"use client";

// React & Next
import { useEffect } from "react";
import { useRouter } from "next/navigation";

// context
import { useAuth } from "@/contexts/AuthContext";

// path constant
import { PATHS } from "@/constant/PATHS";

export default function GuestRoute({ children }: { children: React.ReactNode }) {
  const { isLoggedIn, loading } = useAuth();
  const router = useRouter();

  useEffect(() => {
    if (!loading && isLoggedIn) {
      router.replace(PATHS.HOME);
    }
  }, [loading, isLoggedIn, router]);

  if (loading) return null;

  if (isLoggedIn) return null;

  return <>{children}</>;
}
</file>

<file path="src/components/auth/ProtectedRoute.tsx">
"use client";

// React & Next
import { useEffect } from "react";
import { useRouter } from "next/navigation";

//context
import { useAuth } from "@/contexts/AuthContext";

//path constant
import { PATHS } from "@/constant/PATHS";

export default function ProtectedRoute({ children }: { children: React.ReactNode }) {
  const { isLoggedIn, loading } = useAuth();
  const router = useRouter();

  useEffect(() => {
    if (!loading && !isLoggedIn) {
      router.replace(PATHS.LOGIN);
    }
  }, [loading, isLoggedIn, router]);

  if (loading) return null;

  if (!isLoggedIn) return null;

  return <>{children}</>;
}
</file>

<file path="src/components/header/DesktopNav.tsx">
"use client";

// Next 
import Link from "next/link";
import { usePathname } from "next/navigation";

//paths constant
import { PATHS } from "@/constant/PATHS";

export default function DesktopNav() {
  const pathname = usePathname();

  // Navigation items
  const navItems = [
    { label: "Home", href: PATHS.HOME },
    { label: "Movies", href: PATHS.MOVIES },
    { label: "Series", href: PATHS.SERIES },
    { label: "Actors", href: PATHS.ACTORS },
    { label: "Genres", href: PATHS.GENRES },
    // { label: "Settings", href: PATHS.SETTINGS },
  ];

  return (
    <nav className="hidden md:flex items-center gap-6 lg:gap-8 text-main font-medium text-sm md:text-base">
      {navItems.map((item) => {
        const isActive = pathname === item.href;

        return (
          <Link
            key={item.href}
            href={item.href}
            className={`
              relative py-1 transition 
              hover:text-primary
              ${isActive ? "text-primary" : "text-main"}
            `}
          >
            {item.label}

            {/* Underline Animation */}
            <span
              className={`
                absolute left-0 -bottom-1 w-full bg-primary transition-all duration-300
                ${isActive ? "opacity-100 scale-100" : "opacity-0 scale-0"}
                group-hover:opacity-100 group-hover:scale-100
              `}
            ></span>
          </Link>
        );
      })}
    </nav>
  );
}
</file>

<file path="src/components/header/MobileMenu.tsx">
"use client";

// Next
import Link from "next/link";

//paths constant
import { PATHS } from "@/constant/PATHS";

//contexts
import { useAuth } from "@/contexts/AuthContext";

//react icons
import { Home, Film, Tv, Users, Tag, Settings, LogOut, LogIn, User } from "lucide-react";


type MobileMenuProps = {
  isOpen: boolean;
  setIsOpen: (v: boolean) => void;
}


export default function MobileMenu({
  isOpen,
  setIsOpen,
}: MobileMenuProps) {


  const { isLoggedIn, logout } = useAuth();

  if (!isOpen) return null;

  // Menu items
  const menuItems = [
    { label: "Profile", href: PATHS.PROFILE, icon: <User size={20} /> },
    { label: "Settings", href: PATHS.SETTINGS, icon: <Settings size={20} /> },
    { label: "Home", href: PATHS.HOME, icon: <Home size={20} /> },
    { label: "Movies", href: PATHS.MOVIES, icon: <Film size={20} /> },
    { label: "Series", href: PATHS.SERIES, icon: <Tv size={20} /> },
    { label: "Actors", href: PATHS.ACTORS, icon: <Users size={20} /> },
    { label: "Genres", href: PATHS.GENRES, icon: <Tag size={20} /> },
  ];

  return (
    <div className="dropdown md:hidden bg-card border-t border-main p-5 space-y-4 animate-fade-down fixed left-0 w-full shadow-xl z-40">

      <div className="space-y-3">
        {menuItems.map((item) => (
          <Link
            key={item.href}
            href={item.href}
            onClick={() => setIsOpen(false)}
            className="flex items-center gap-3 text-main hover:text-primary transition py-2"
          >
            {item.icon}
            <span>{item.label}</span>
          </Link>
        ))}
      </div>

      <div className="pt-4 border-t border-main">
        {isLoggedIn ? (
          <button
            onClick={() => {
              logout();
              setIsOpen(false);
            }}
            className="flex w-full items-center gap-3 text-red-500 hover:text-red-600 transition py-2"
          >
            <LogOut size={20} />
            Logout
          </button>
        ) : (
          <Link
            href={PATHS.LOGIN}
            onClick={() => setIsOpen(false)}
            className="flex items-center gap-3 text-main hover:text-primary transition py-2"
          >
            <LogIn size={20} />
            Login
          </Link>
        )}
      </div>
    </div>
  );
}
</file>

<file path="src/components/header/NotificationsMenu.tsx">
"use client";

// React
import { useState, useRef } from "react";

// icons
import { Bell, Play, Star, AlertCircle, UserCheck } from "lucide-react";

type NotificationsMenuProps = {
  isLoggedIn: boolean;
  desktopOnly?: boolean;
  isMobile?: boolean;
  isOpen: boolean;
  setIsOpen: (v: boolean) => void;
};

export default function NotificationsMenu({
  isLoggedIn,
  desktopOnly = false,
  isMobile = false,
  isOpen,
  setIsOpen,
}: NotificationsMenuProps) {
  const [closing, setClosing] = useState(false);
  const ref = useRef<HTMLDivElement | null>(null);

  if (!isLoggedIn) return null;

  const closeMenu = () => {
    setClosing(true);
    setTimeout(() => {
      setClosing(false);
      setIsOpen(false);
    }, 160);
  };

  /* Dummy notifications */
  const notifications = [
    {
      id: 1,
      text: "New episode for Breaking Bad",
      icon: <Play size={18} className="text-primary" />,
    },
    {
      id: 2,
      text: "Recommended: The Witcher",
      icon: <Star size={18} className="text-accent" />,
    },
    {
      id: 3,
      text: "System maintenance tonight",
      icon: <AlertCircle size={18} className="text-danger" />,
    },
    {
      id: 4,
      text: "Your password was updated",
      icon: <UserCheck size={18} className="text-success" />,
    },
  ];

  const panelAnimation = closing
    ? "animate-dropdown-close"
    : "animate-dropdown-open";

  return (
    <div
      ref={ref}
      className={`
        dropdown relative
        ${desktopOnly ? "hidden md:block" : ""}
        ${isMobile ? "block md:hidden" : ""}
      `}
    >
      {/* Bell Icon */}
      <button
        onClick={() => {
          if (isOpen) closeMenu();
          else setIsOpen(true);
        }}
        className="relative text-main hover:text-primary transition"
      >
        <Bell size={22} />

        {/* Badge */}
        <span className="absolute -top-1 -right-1 bg-primary text-xs text-white rounded-full w-4 h-4 flex items-center justify-center">
          {notifications.length}
        </span>
      </button>

      {/* DROPDOWN */}
      {isOpen && (
        <div
          className={`
            dropdown absolute right-0 mt-2
            ${isMobile ? "w-64" : "w-72 mt-3"}
            bg-card border border-main rounded-xl shadow-xl p-3 z-50
            ${panelAnimation}
          `}
        >
          <p className="text-main font-semibold pb-2 border-b border-main">
            Notifications
          </p>

          <div className="max-h-72 overflow-y-auto mt-2">
            {notifications.map((n) => (
              <div
                key={n.id}
                onClick={closeMenu}
                className="flex items-center gap-3 py-2 hover:bg-soft rounded-lg transition cursor-pointer"
              >
                {n.icon}
                <span className="text-main text-sm">{n.text}</span>
              </div>
            ))}
          </div>
        </div>
      )}
    </div>
  );
}
</file>

<file path="src/components/header/UserMenu.tsx">
"use client";

// React & Next
import { useState, useRef } from "react";
import Link from "next/link";
import Image from "next/image";

//paths constant
import { PATHS } from "@/constant/PATHS";

//contexts
import { useAuth } from "@/contexts/AuthContext";

//react icons
import { LogOut, User, Heart, Bookmark, Settings } from "lucide-react";

type UserMenuProps = {
  isLoggedIn: boolean;
  isOpen: boolean;
  setIsOpen: (v: boolean) => void;
}

export default function UserMenu({
  isLoggedIn,
  isOpen,
  setIsOpen,
}:UserMenuProps ) {

  const { user, logout } = useAuth();
  const [closing, setClosing] = useState(false);

  const ref = useRef<HTMLDivElement | null>(null);

  if (!isLoggedIn) return null;

  const closeMenu = () => {
    setClosing(true);
    setTimeout(() => {
      setClosing(false);
      setIsOpen(false);
    }, 160);
  };

  const panelAnimation = closing ? "animate-dropdown-close" : "animate-dropdown-open";

  return (
    <div ref={ref} className="dropdown relative">
      <button
        onClick={() => {
          if (isOpen) closeMenu();
          else setIsOpen(true);
        }}
        className="w-10 h-10 rounded-full bg-card border border-main flex items-center justify-center hover:border-primary overflow-hidden transition"
      >
        {user?.photo ? (
          <Image src={user.photo} alt="avatar" width={40} height={40} className="rounded-full object-cover" />
        ) : (
          <span className="text-primary font-bold text-lg">{user?.firstName?.[0]}</span>
        )}
      </button>

      {isOpen && (
        <div
          className={`dropdown absolute right-0 mt-3 w-52 bg-card border border-main rounded-xl shadow-xl overflow-hidden z-50 ${panelAnimation}`}
        >
          <div className="px-4 py-3 border-b border-main cursor-pointer" onClick={closeMenu}>
            <p className="text-main font-semibold">{user?.firstName} {user?.lastName}</p>
            <p className="text-muted text-xs">{user?.email}</p>
          </div>

          

          <Link href={PATHS.PROFILE} onClick={closeMenu} className="flex items-center gap-3 px-4 py-3 hover:bg-soft text-main text-sm">
            <User size={18} /> Profile
          </Link>

          <Link href={PATHS.FAVORITES} onClick={closeMenu} className="flex items-center gap-3 px-4 py-3 hover:bg-soft text-main text-sm">
            <Heart size={18} /> Favorites
          </Link>

          <Link href={PATHS.WATCHLIST} onClick={closeMenu} className="flex items-center gap-3 px-4 py-3 hover:bg-soft text-main text-sm">
            <Bookmark size={18} /> Watchlist
          </Link>

          <Link href={PATHS.SETTINGS} onClick={closeMenu} className="flex items-center gap-3 px-4 py-3 hover:bg-soft text-main text-sm">
            <Settings size={18} /> Settings
          </Link>

          <button
            onClick={() => {
              logout();
              closeMenu();
            }}
            className="flex items-center gap-3 w-full px-4 py-3 text-red-500 hover:bg-red-500/20 text-sm"
          >
            <LogOut size={18} /> Logout
          </button>
        </div>
      )}
    </div>
  );
}
</file>

<file path="src/components/skeletons/ActorCardSkeleton.tsx">
export default function ActorCardSkeleton() {
  return (
    <div className="flex flex-col items-center animate-pulse">
      {/* Avatar */}
      <div className="w-32 h-32 rounded-full bg-soft border border-main mb-3" />

      {/* Name */}
      <div className="h-4 w-24 bg-soft rounded-md" />
    </div>
  );
}
</file>

<file path="src/components/skeletons/ActorDetailsSkeleton.tsx">
export default function ActorDetailsSkeleton() {
  return (
    <div className="animate-pulse space-y-12">
      {/* Header */}
      <div className="flex flex-col md:flex-row gap-8">
        {/* Avatar */}
        <div className="w-48 h-48 rounded-full bg-soft border border-main" />

        {/* Info */}
        <div className="flex-1 space-y-4">
          <div className="h-8 w-1/2 bg-soft rounded-md" />
          <div className="h-4 w-full bg-soft rounded-md" />
          <div className="h-4 w-5/6 bg-soft rounded-md" />
          <div className="h-4 w-4/6 bg-soft rounded-md" />
        </div>
      </div>

      {/* Movies / Series Section */}
      <div className="space-y-5">
        <div className="h-6 w-32 bg-soft rounded-md" />

        <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
          {Array.from({ length: 4 }).map((_, i) => (
            <div
              key={i}
              className="bg-card rounded-xl overflow-hidden"
            >
              <div className="h-48 bg-soft" />
              <div className="p-3">
                <div className="h-4 w-3/4 bg-soft rounded-md" />
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}
</file>

<file path="src/components/skeletons/ActorsGridSkeleton.tsx">
import ActorCardSkeleton from "./ActorCardSkeleton";

type Props = {
  count?: number;
};

export default function ActorsGridSkeleton({ count = 12 }: Props) {
  return (
    <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6">
      {Array.from({ length: count }).map((_, i) => (
        <ActorCardSkeleton key={i} />
      ))}
    </div>
  );
}
</file>

<file path="src/components/skeletons/CardSkeleton.tsx">
export default function MovieCardSkeleton() {
  return (
    <div className="p-4 bg-card rounded-xl shadow animate-pulse">
      {/* Image */}
      <div className="w-full h-48 bg-soft rounded-lg mb-4" />

      {/* Title */}
      <div className="h-4 bg-soft rounded w-3/4 mb-2" />

      {/* Year */}
      <div className="h-3 bg-soft rounded w-1/3" />
    </div>
  );
}
</file>

<file path="src/components/skeletons/GenreButtonSkeleton.tsx">
export default function GenreButtonSkeleton() {
  return (
    <div className="h-10 w-24 rounded-full bg-soft animate-pulse" />
  );
}
</file>

<file path="src/components/skeletons/GenreSkeleton.tsx">
export default function GenreSkeleton() {
  return (
    <div className="animate-pulse rounded-2xl bg-card border border-border px-6 py-8 flex flex-col items-center gap-4">
      <div className="w-10 h-10 rounded-full bg-muted/40" />
      <div className="h-4 w-24 rounded bg-muted/40" />
      <div className="h-3 w-16 rounded bg-muted/30" />
    </div>
  );
}
</file>

<file path="src/components/skeletons/GenresSidebarSkeleton.tsx">
export default function GenresSidebarSkeleton() {
  return (
    <div className="hidden md:block w-64 bg-soft p-5 rounded-2xl h-fit sticky top-10 animate-pulse">
      
      {/* Title */}
      <div className="h-5 w-24 bg-card rounded mb-4" />

      {/* Buttons */}
      <div className="grid grid-cols-2 gap-3">
        {Array.from({ length: 8 }).map((_, i) => (
          <div
            key={i}
            className="h-9 bg-card rounded-lg"
          />
        ))}
      </div>
    </div>
  );
}
</file>

<file path="src/components/skeletons/GenresTabsSkeleton.tsx">
import GenreButtonSkeleton from "./GenreButtonSkeleton";

export default function GenresTabsSkeleton() {
  return (
    <div className="flex flex-wrap justify-center gap-4 bg-soft p-2 rounded-full w-full max-w-md sm:max-w-lg md:max-w-xl">
      {Array.from({ length: 4 }).map((_, i) => (
        <GenreButtonSkeleton key={i} />
      ))}
    </div>
  );
}
</file>

<file path="src/components/skeletons/GridSkeleton.tsx">
import MovieCardSkeleton from "./CardSkeleton";

type GridSkeletonProps = {
  count?: number;
};

export default function GridSkeleton({ count = 6 }: GridSkeletonProps) {
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
      {Array.from({ length: count }).map((_, i) => (
        <MovieCardSkeleton key={i} />
      ))}
    </div>
  );
}
</file>

<file path="src/components/skeletons/HeroSkeleton.tsx">
export default function HeroSkeleton() {
  return (
    <section className="relative w-full overflow-hidden">
      <div className="relative h-[60vh] md:h-[85vh] bg-soft animate-pulse">

        {/* Gradient overlays */}
        <div className="absolute inset-0 bg-hero-gradient opacity-40" />
        <div className="absolute inset-0 bg-overlay opacity-30" />

        {/* Content */}
        <div className="absolute inset-0 flex items-end px-6 md:px-12 py-16">
          <div className="max-w-4xl w-full space-y-4">

            {/* Title */}
            <div className="h-10 md:h-14 w-3/4 bg-card rounded-md" />

            {/* Description */}
            <div className="h-4 w-full bg-card rounded" />
            <div className="h-4 w-5/6 bg-card rounded" />

            {/* Buttons */}
            <div className="flex gap-4 mt-6">
              <div className="h-12 w-36 bg-card rounded-2xl" />
              <div className="h-12 w-40 bg-card rounded-2xl" />
            </div>
          </div>
        </div>

        {/* Dots */}
        <div className="absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2">
          {Array.from({ length: 5 }).map((_, i) => (
            <div
              key={i}
              className="w-3 h-3 rounded-full bg-card"
            />
          ))}
        </div>
      </div>
    </section>
  );
}
</file>

<file path="src/components/ui/AuthCard.tsx">
export default function AuthCard({ children }: { children: React.ReactNode }) {
  return (
    <div className="relative z-10 w-[90%] sm:max-w-lg bg-card p-10 rounded-xl border border-main shadow-xl">
      {children}
    </div>
  );
}
</file>

<file path="src/components/ui/Pagination.tsx">
import { BackendPagination } from "@/types/pagination";

type Props = {
  pagination: BackendPagination;
  onChange: (page: number) => void;
};

export default function Pagination({ pagination, onChange }: Props) {
  const { page, totalPages, totalDocs } = pagination;

  /* =================== GUARDS =================== */

  if (!totalDocs || totalDocs === 0 || totalPages <= 1) {
    return null;
  }

  /* =================== PAGES LOGIC =================== */
  const MAX_VISIBLE = 5;

  const getPages = (): (number | "...")[] => {
    const pages: (number | "...")[] = [];

    // ŸÑŸà ÿßŸÑÿµŸÅÿ≠ÿßÿ™ ŸÇŸÑŸäŸÑÿ©
    if (totalPages <= MAX_VISIBLE + 2) {
      return Array.from({ length: totalPages }, (_, i) => i + 1);
    }

    const start = Math.max(2, page - 2);
    const end = Math.min(totalPages - 1, page + 2);

    pages.push(1);

    if (start > 2) pages.push("...");

    for (let i = start; i <= end; i++) {
      pages.push(i);
    }

    if (end < totalPages - 1) pages.push("...");

    pages.push(totalPages);

    return pages;
  };

  const pages = getPages();

  /* =================== UI =================== */
  return (
    <div className="flex justify-center gap-2 mt-12 flex-wrap">
      {/* PREV */}
      <button
        disabled={page === 1}
        onClick={() => onChange(page - 1)}
        className="px-4 py-2 rounded-lg border border-[var(--color-border)]  bg-card disabled:opacity-40"
      >
        Prev
      </button>

      {/* PAGE NUMBERS */}
      {pages.map((p, i) =>
        p === "..." ? (
          <span
            key={`dots-${i}`}
            className="px-3 py-2 text-muted select-none"
          >
            ...
          </span>
        ) : (
          <button
            key={p}
            onClick={() => onChange(p)}
            className={`px-4 py-2 rounded-lg border border-[var(--color-border)]  transition
              ${
                p === page
                  ? "btn-primary text-white"
                  : "bg-card hover:bg-soft"
              }`}
          >
            {p}
          </button>
        )
      )}

      {/* NEXT */}
      <button
        disabled={page === totalPages}
        onClick={() => onChange(page + 1)}
        className="px-4 py-2 rounded-lg border border-[var(--color-border)] bg-card disabled:opacity-40"
      >
        Next
      </button>
    </div>
  );
}
</file>

<file path="src/components/ui/Spinner.tsx">
export default function Spinner() {
  return (
    <div className="w-5 h-5 border-2 border-main border-t-transparent rounded-full animate-spin" />
  );
}
</file>

<file path="src/contexts/LangContext.tsx">
"use client";

//react
import { createContext, useContext, useEffect, useState } from "react";

type Lang = "en" | "ar";

type LangContextType = {
  lang: Lang;
  toggleLang: () => void;
};

const LangContext = createContext<LangContextType>({
  lang: "en",
  toggleLang: () => {},
});

export const LangProvider = ({ children }: { children: React.ReactNode }) => {
  const [lang, setLang] = useState<Lang>("en");

  useEffect(() => {
    const saved = localStorage.getItem("lang") as Lang | null;
    if (saved) setLang(saved);
  }, []);

  const toggleLang = () => {
    setLang((prev) => {
      const newLang = prev === "en" ? "ar" : "en";
      localStorage.setItem("lang", newLang);
      document.documentElement.dir = newLang === "ar" ? "rtl" : "ltr";
      return newLang;
    });
  };

  return (
    <LangContext.Provider value={{ lang, toggleLang }}>
      {children}
    </LangContext.Provider>
  );
};

export const useLang = () => useContext(LangContext);
</file>

<file path="src/contexts/ThemeContext.tsx">
"use client";

//react
import { createContext, useContext, useEffect, useState } from "react";

type ThemeContextType = {
  theme: "light" | "dark";
  toggleTheme: () => void;
};

const ThemeContext = createContext<ThemeContextType>({
  theme: "dark",
  toggleTheme: () => {},
});

export const ThemeProvider = ({ children }: { children: React.ReactNode }) => {
  const [theme, setTheme] = useState<"light" | "dark">("dark");

  useEffect(() => {
    const saved = localStorage.getItem("theme") as "light" | "dark" | null;
    if (saved) setTheme(saved);
  }, []);

  useEffect(() => {
    document.documentElement.classList.toggle("light", theme === "light");
    localStorage.setItem("theme", theme);
  }, [theme]);

  const toggleTheme = () =>
    setTheme((prev) => (prev === "light" ? "dark" : "light"));

  return (
    <ThemeContext.Provider value={{ theme, toggleTheme }}>
      {children}
    </ThemeContext.Provider>
  );
};

export const useTheme = () => useContext(ThemeContext);
</file>

<file path="src/hooks/hero/useHeroItems.ts">
"use client";

// React
import { useEffect, useState } from "react";

//types
import { HeroItem } from "@/types/hero";


const API_URL = process.env.NEXT_PUBLIC_API_URL;

type HeroType = "movies" | "series";

type UseHeroItemsProps = {
    type: HeroType;
    limit?: number;
    intervalMs?: number;
};

export default function useHeroItems({
    type,
    limit = 5,
    intervalMs = 7000,
}: UseHeroItemsProps) {
    const [items, setItems] = useState<HeroItem[]>([]);
    const [activeIndex, setActiveIndex] = useState(0);
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        async function fetchItems() {
            try {
                const res = await fetch(`${API_URL}/${type}`);
                const data = await res.json();

                const featuredItems = (data.data || [])
                    .slice(0, limit);

                setItems(featuredItems);
            } catch (e) {
                console.error("Hero fetch failed", e);
            } finally {
                setLoading(false);
            }
        }

        fetchItems();
    }, [type, limit]);

    useEffect(() => {
        if (items.length <= 1) return;

        const id = setInterval(() => {
            setActiveIndex((i) => (i + 1) % items.length);
        }, intervalMs);

        return () => clearInterval(id);
    }, [items, intervalMs]);

    return {
        item: items[activeIndex],
        loading,
        activeIndex,
        total: items.length,
        setActiveIndex,
    };
}
</file>

<file path="src/lib/api/useApiHandler.ts">
"use client";

//react
import { useState } from "react";

//toast notify
import toast from "react-hot-toast";

export default function useApiHandler() {
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState("");

  async function post<T>(url: string, body: T) {
    try {
      setIsLoading(true);
      setError("");

      const response = await fetch(url, {
        method: "POST",
        credentials: "include",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(body),
      });

      const data = await response.json();

      if (!response.ok) {
        toast.error(data.message || "Something went wrong");
        return { success: false, data };
      }

      toast.success(data.message || "Success");
      return { success: true, data };

    } catch (err) {
      console.error(err);
      toast.error("Network error");
      return { success: false, data: null };
    } finally {
      setIsLoading(false);
    }
  }

  return { post, isLoading, error };
}
</file>

<file path="src/lib/utils/cn.ts">
export default function cn(...classes: (string | boolean | undefined)[]) {
  return classes.filter(Boolean).join(" ");
}
</file>

<file path="src/pages/account/favorites/hooks/useFavorites.ts">
"use client";

import { useEffect, useState } from "react";
import { useFavorite } from "@/contexts/FavoriteContext";
import { BackendPagination } from "@/types/pagination";

/* ================= TYPES ================= */

export type FavoriteItemUI = {
  _id: string;
  name: string;
  poster?: string;
  releaseYear?: number;
  type: "movies" | "series";
};

/* ================= CONSTANTS ================= */

const LIMIT = 6;

/* ================= HOOK ================= */

export function useFavorites() {
  const { favoriteList } = useFavorite();
  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const [items, setItems] = useState<FavoriteItemUI[]>([]);
  const [loading, setLoading] = useState(false);

  const [activeTab, setActiveTab] =
    useState<"movies" | "series">("movies");

  const [page, setPage] = useState(1);

  const [pagination, setPagination] =
    useState<BackendPagination>({
      page: 1,
      limit: LIMIT,
      totalDocs: 0,
      totalPages: 0,
    });

  /* ================= FETCH FAVORITES ================= */

  useEffect(() => {
    if (!API_URL) return;

    const ids = favoriteList
      .filter((f) => f.type === activeTab)
      .map((f) => f.id)
      .join(",");

    // no favorites
    if (!ids) {
      setItems([]);
      setPagination({
        page: 1,
        limit: LIMIT,
        totalDocs: 0,
        totalPages: 0,
      });
      return;
    }

    async function fetchFavorites() {
      try {
        setLoading(true);

        const endpoint =
          activeTab === "movies" ? "movies" : "series";

        const res = await fetch(
          `${API_URL}/${endpoint}?_id=${ids}&page=${page}&limit=${LIMIT}`
        );

        const json = await res.json();

        setItems(
          (json.data || []).map((item: any) => ({
            ...item,
            type: activeTab,
          }))
        );

        setPagination(json.pagination);
      } catch (err) {
        console.error("Failed to fetch favorites", err);
        setItems([]);
      } finally {
        setLoading(false);
      }
    }

    fetchFavorites();
  }, [API_URL, favoriteList, activeTab, page]);

  /* ================= RESET PAGE ON TAB CHANGE ================= */

  useEffect(() => {
    setPage(1);
  }, [activeTab]);

  /* ================= RETURN ================= */

  return {
    loading,

    items,

    activeTab,
    setActiveTab,

    page,
    setPage,

    pagination,
  };
}
</file>

<file path="src/pages/account/profile/change-password/validation.ts">
import * as yup from "yup";

export const changePasswordSchema = yup.object({
  currentPassword: yup
    .string()
    .required("Current password is required")
    .min(8, "Password must be at least 8 characters"),

  newPassword: yup
    .string()
    .required("New password is required")
    .min(8, "Password must be at least 8 characters"),

  confirmNewPassword: yup
    .string()
    .oneOf([yup.ref("newPassword")], "Passwords do not match")
    .required("Please confirm your new password"),
});

export type ChangePasswordSchemaType = yup.InferType<typeof changePasswordSchema>;
</file>

<file path="src/pages/account/profile/components/ProfileInfoRow.tsx">
interface ProfileInfoRowProps {
  label: string;
  value: string | number;
}

export default function ProfileInfoRow({ label, value }: ProfileInfoRowProps) {
  return (
    <div className="flex justify-between items-center bg-soft p-4 rounded-lg border border-main">
      <span className="text-text-soft">{label}</span>
      <span className="font-semibold">{value}</span>
    </div>
  );
}
</file>

<file path="src/pages/account/profile/edit/EditProfilePage.tsx">
"use client";

// react
import { useEffect, useState, useRef } from "react";
import Image from "next/image";
import { useAuth } from "@/contexts/AuthContext";

// components
import Input from "@/components/ui/Input";
import PrimaryButton from "@/components/ui/PrimaryButton";

// hooks
import { useForm } from "react-hook-form";
import { yupResolver } from "@hookform/resolvers/yup";
import useEditProfile from "./hooks/useEditProfile";

// validation
import {
  editProfileSchema,
  EditProfileSchemaType,
} from "./validation";

export default function EditProfilePage() {
  const { user } = useAuth();
  const { updateProfile, isLoading } = useEditProfile();

  const [photo, setPhoto] = useState<File | null>(null);
  const [previewUrl, setPreviewUrl] = useState<string | null>(null);

  const fileInputRef = useRef<HTMLInputElement | null>(null);

  const {
    register,
    handleSubmit,
    setValue,
    formState: { errors },
  } = useForm<EditProfileSchemaType>({
    resolver: yupResolver(editProfileSchema),
  });

  useEffect(() => {
    if (user) {
      setValue("firstName", user.firstName);
      setValue("lastName", user.lastName);
      setValue("email", user.email);
    }
  }, [user, setValue]);

  // create & cleanup preview URL
  useEffect(() => {
    if (!photo) {
      setPreviewUrl(null);
      return;
    }

    const url = URL.createObjectURL(photo);
    setPreviewUrl(url);

    return () => URL.revokeObjectURL(url);
  }, [photo]);

  const onSubmit = async (data: EditProfileSchemaType) => {
    const formData = new FormData();
    formData.append("firstName", data.firstName);
    formData.append("lastName", data.lastName);
    formData.append("email", data.email);
    if (photo) formData.append("photo", photo);

    await updateProfile(formData);
  };

  const openFilePicker = () => {
    fileInputRef.current?.click();
  };

  return (
    <div className="min-h-screen flex justify-center py-20 px-6">
      <div className="w-full max-w-3xl bg-[var(--color-background-card)] border border-main rounded-xl shadow-2xl p-10 backdrop-blur-lg">

        <h1 className="text-3xl font-bold mb-2">Edit Profile</h1>
        <p className="text-muted mb-6">Update your personal information</p>

        <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">

          {/* Avatar */}
          <div className="flex flex-col items-center gap-4">

            <div
              className="relative w-24 h-24 rounded-full overflow-hidden border border-main bg-soft cursor-pointer hover:opacity-80"
              onClick={openFilePicker}
            >
              {previewUrl ? (
                <Image
                  src={previewUrl}
                  alt="Profile preview"
                  fill
                  className="object-cover"
                  unoptimized
                />
              ) : user?.photo ? (
                <Image
                  src={user.photo}
                  alt="Profile"
                  fill
                  className="object-cover"
                />
              ) : (
                <p className="flex items-center justify-center h-full text-primary font-bold text-xl">
                  {user?.firstName?.[0] ?? "U"}
                </p>
              )}
            </div>

            <input
              ref={fileInputRef}
              type="file"
              className="hidden"
              accept="image/*"
              onChange={(e) => setPhoto(e.target.files?.[0] || null)}
            />

            <button
              type="button"
              onClick={openFilePicker}
              className="text-primary hover:underline text-sm"
            >
              Change Avatar
            </button>
          </div>

          {/* Fields */}
          <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <Input
              label="First Name"
              error={errors.firstName?.message}
              {...register("firstName")}
            />
            <Input
              label="Last Name"
              error={errors.lastName?.message}
              {...register("lastName")}
            />
          </div>

          <Input
            label="Email"
            error={errors.email?.message}
            {...register("email")}
          />

          <PrimaryButton isLoading={isLoading} type="submit">
            Save Changes
          </PrimaryButton>

        </form>
      </div>
    </div>
  );
}
</file>

<file path="src/pages/account/profile/edit/validation.ts">
import * as yup from "yup";

export const editProfileSchema = yup.object({
  firstName: yup.string().required("First name is required").min(2),
  lastName: yup.string().required("Last name is required").min(2),
  email: yup.string().email("Invalid email").required("Email is required"),
});

export type EditProfileSchemaType = yup.InferType<typeof editProfileSchema>;
</file>

<file path="src/pages/account/watchlist/watchlist.tsx">
//Next
import Link from "next/link";

// react icons
import { Bookmark } from "lucide-react";

export default function WatchlistPage() {
  const watchlist: string[] = []; 

  return (
    <div className="min-h-screen pt-20 px-6 max-w-6xl mx-auto space-y-10">

      {/* HEADER */}
      <div>
        <h1 className="text-3xl md:text-4xl font-bold  flex items-center gap-3">
          <Bookmark className="text-blue-400" size={32} />
          Your Watchlist
        </h1>
        <p className="text-muted mt-2">
          Movies and series you plan to watch later
        </p>
      </div>

      {/* EMPTY STATE */}
      {watchlist.length === 0 && (
        <div className="text-center py-20 opacity-70">
          <Bookmark size={80} className="mx-auto text-blue-400 mb-4" />
          <h2 className="text-2xl font-semibold ">
            Your Watchlist is Empty
          </h2>
          <p className="text-muted mt-1">
            Add movies to your watchlist and track what you want to watch later.
          </p>

          <Link
            href="/movies"
            className="mt-6 inline-block py-3 px-6 rounded-lg font-semibold "
          >
            Explore Movies
          </Link>
        </div>
      )}

      {/* GRID LISTING */}
      <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">
        {watchlist.map((id) => (
          <Link
            href={`/movies/${id}`}
            key={id}
            className="group bg-card border border-main rounded-xl overflow-hidden hover:border-primary transition"
          >
            <div className="h-48 bg-gray-800" />
            <div className="p-3">
              <p className=" group-hover:text-primary transition">
                Movie ID: {id}
              </p>
            </div>
          </Link>
        ))}
      </div>
    </div>
  );
}
</file>

<file path="src/pages/actors/ActorDetails.tsx">
"use client";

import { useEffect, useState } from "react";
import Image from "next/image";
import Link from "next/link";

import { Container } from "@/components/containers/Container";
import { PATHS } from "@/constant/PATHS";
import ActorDetailsSkeleton from "@/components/skeletons/ActorDetailsSkeleton";

/* ================= TYPES ================= */

type Actor = {
  _id: string;
  name: string;
  profilePath?: string;
  popularity?: number;
};

type Item = {
  _id: string;
  name: string;
  poster?: string;
};

/* ================= COMPONENT ================= */

export default function ActorDetailsComponent({ id }: { id: string }) {
  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const [actor, setActor] = useState<Actor | null>(null);
  const [movies, setMovies] = useState<Item[]>([]);
  const [series, setSeries] = useState<Item[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function fetchAll() {
      try {
        setLoading(true);

        const [actorRes, moviesRes, seriesRes] = await Promise.all([
          fetch(`${API_URL}/actors/${id}`),
          fetch(`${API_URL}/movies?castRefs=${id}`),
          fetch(`${API_URL}/series?cast=${id}`),
        ]);

        const actorData = await actorRes.json();
        const moviesData = await moviesRes.json();
        const seriesData = await seriesRes.json();

        setActor(actorData.data);
        setMovies(moviesData.data || []);
        setSeries(seriesData.data || []);
      } catch (error) {
        console.error("Actor details fetch error:", error);
      } finally {
        setLoading(false);
      }
    }

    fetchAll();
  }, [API_URL, id]);

  /* ================= LOADING ================= */

  if (loading) {
    return (
      <Container className="pt-20">
        <ActorDetailsSkeleton />
      </Container>
    );
  }

  /* ================= NOT FOUND ================= */

  if (!actor) {
    return (
      <Container className="pt-20">
        <p className="text-muted">Actor not found.</p>
      </Container>
    );
  }

  /* ================= UI ================= */

  return (
    <Container className="pt-20">
      {/* ===== ACTOR HEADER ===== */}
      <div className="flex flex-col md:flex-row gap-8 mb-16">
        <div className="w-48 h-48 rounded-full overflow-hidden border border-main bg-soft">
          <Image
            src={actor.profilePath || "/assets/images/img_hero.jpg"}
            alt={actor.name}
            width={300}
            height={300}
            className="w-full h-full object-cover"
          />
        </div>

        <div>
          <h1 className="text-4xl font-bold mb-2">{actor.name}</h1>

          {actor.popularity !== undefined && (
            <p className="text-muted">
              Popularity: ‚≠ê {actor.popularity.toFixed(1)}
            </p>
          )}
        </div>
      </div>

      {/* ===== MOVIES SECTION ===== */}
      {movies.length > 0 && (
        <section className="mb-20">
          <h2 className="text-2xl font-semibold mb-5">
            Movies
            <span className="ml-2 text-muted text-base">
              ({movies.length})
            </span>
          </h2>

          <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
            {movies.map((movie) => (
              <Link
                key={movie._id}
                href={PATHS.MOVIE_DETAILS(movie._id)}
                className="bg-card rounded-xl overflow-hidden hover:scale-105 transition"
              >
                <Image
                  src={movie.poster || "/assets/images/img_hero.jpg"}
                  alt={movie.name}
                  width={300}
                  height={200}
                  className="h-48 w-full object-cover"
                />
                <p className="p-3 font-semibold">{movie.name}</p>
              </Link>
            ))}
          </div>
        </section>
      )}

      {/* ===== SERIES SECTION ===== */}
      {series.length > 0 && (
        <section>
          <h2 className="text-2xl font-semibold mb-5">
            Series
            <span className="ml-2 text-muted text-base">
              ({series.length})
            </span>
          </h2>

          <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
            {series.map((show) => (
              <Link
                key={show._id}
                href={PATHS.SERIES_DETAILS(show._id)}
                className="bg-card rounded-xl overflow-hidden hover:scale-105 transition"
              >
                <Image
                  src={show.poster || "/assets/images/img_hero.jpg"}
                  alt={show.name}
                  width={300}
                  height={200}
                  className="h-48 w-full object-cover"
                />
                <p className="p-3 font-semibold">{show.name}</p>
              </Link>
            ))}
          </div>
        </section>
      )}
    </Container>
  );
}
</file>

<file path="src/pages/actors/actors.tsx">
"use client";

import { useState } from "react";
import Image from "next/image";
import Link from "next/link";

import { Container } from "@/components/containers/Container";
import Pagination from "@/components/ui/Pagination";
import GridSkeleton from "@/components/skeletons/GridSkeleton";
import { PATHS } from "@/constant/PATHS";
import { useActors } from "./hooks/useActors";
import ActorsGridSkeleton from "@/components/skeletons/ActorsGridSkeleton";

export default function ActorsPageComponent() {
  const [page, setPage] = useState(1);
  const { actors, pagination, loading } = useActors(page);

  return (
    <Container className="pt-20">
      {/* HEADER */}
      <div className="mb-12">
        <h1 className="text-4xl font-extrabold mb-3">Actors</h1>
        <p className="text-muted">
          Explore popular actors and their works
        </p>
      </div>

      {/* CONTENT */}
{loading ? (
  <ActorsGridSkeleton count={12} />
) : actors.length === 0 ? (
  <p className="text-center text-muted">No actors found.</p>
) : (
        <>
          <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6">
            {actors.map((actor) => (
              <Link
                key={actor._id}
                href={PATHS.ACTOR_DETAILS(actor._id)}
                className="group text-center"
              >
                <div className="w-32 h-32 mx-auto rounded-full overflow-hidden border border-main bg-soft">
                  <Image
                    src={
                      actor.profilePath ||
                      "/assets/images/img_hero.jpg"
                    }
                    alt={actor.name}
                    width={200}
                    height={200}
                    className="w-full h-full object-cover group-hover:scale-110 transition"
                  />
                </div>

                <p className="mt-3 font-semibold group-hover:text-primary transition">
                  {actor.name}
                </p>
              </Link>
            ))}
          </div>

          {pagination && (
            <Pagination
              pagination={pagination}
              onChange={(p) => {
                setPage(p);
              }}
            />
          )}
        </>
      )}
    </Container>
  );
}
</file>

<file path="src/pages/actors/hooks/useActors.ts">
"use client";

import { useEffect, useState } from "react";
import { BackendPagination } from "@/types/pagination";

export type Actor = {
  _id: string;
  name: string;
  profilePath?: string;
};

export function useActors(page: number) {
  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const [actors, setActors] = useState<Actor[]>([]);
  const [pagination, setPagination] =
    useState<BackendPagination | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function fetchActors() {
      setLoading(true);
      try {
        const res = await fetch(`${API_URL}/actors?page=${page}`);
        const data = await res.json();

        setActors(data.data || []);
        setPagination(data.pagination);
      } catch (e) {
        console.error("Actors fetch error", e);
      } finally {
        setLoading(false);
      }
    }

    fetchActors();
  }, [API_URL, page]);

  return { actors, pagination, loading };
}
</file>

<file path="src/pages/auth/forget-password/validation.ts">
import * as yup from "yup";

export const forgotPasswordSchema = yup.object({
  email: yup.string().email("Invalid email format").required("Email is required"),
});

export type ForgotPasswordSchemaType = yup.InferType<typeof forgotPasswordSchema>;
</file>

<file path="src/pages/auth/login/validation.ts">
//validation schema and types
import * as yup from "yup";

export const loginSchema = yup.object({
    email: yup.string().required("Email is required").email("Invalid email format"),
    password: yup.string().required("Password is required"),
});

export type LoginSchemaType = yup.InferType<typeof loginSchema>;
</file>

<file path="src/pages/auth/signup/signup.tsx">
//components
import AuthCard from "@/components/ui/AuthCard";
import AuthHeader from "@/components/ui/AuthHeader";
import SignupForm from "@/pages/auth/signup/components/SignupForm";

export default function SignupPage() {
  return (
    <div className="w-full flex items-center justify-center">
      <AuthCard>
        <AuthHeader 
          title="Create Account" 
          subtitle="Join us and enjoy unlimited movies & shows" 
        />
        <SignupForm />
      </AuthCard>
    </div>
  );
}
</file>

<file path="src/pages/dashboard/components/AdminRoute.tsx">
"use client";

// React & Next
import { useEffect } from "react";
import { useRouter } from "next/navigation";

// context
import { useAuth } from "@/contexts/AuthContext";

// paths
import { PATHS } from "@/constant/PATHS";

export default function AdminRoute({ children }: { children: React.ReactNode }) {
  const { user, isLoggedIn, loading } = useAuth();
  const router = useRouter();

  useEffect(() => {
    if (loading) return;

    if (!isLoggedIn) {
      router.replace(PATHS.LOGIN);
      return;
    }

    if (user?.role !== "admin") {
      router.replace(PATHS.HOME);
    }
  }, [loading, isLoggedIn, user, router]);

  if (loading) return null;
  if (!isLoggedIn || user?.role !== "admin") return null;

  return <>{children}</>;
}
</file>

<file path="src/pages/genres/GenreDetails/components/section.tsx">
import { PATHS } from "@/constant/PATHS";
import { Item } from "@/types/geners";
import Image from "next/image";
import Link from "next/link";

export default function Section({
  title,
  items,
  type,
}: {
  title: string;
  items: Item[];
  type: "movies" | "series";
}) {
  return (
    <section className="mb-14">
      <h2 className="text-2xl font-semibold mb-5">
        {title}
        {items.length > 0 && (
          <span className="ml-2 text-muted text-base">
            ({items.length})
          </span>
        )}
      </h2>

      {items.length === 0 ? (
        <p className="text-muted">
          No {title.toLowerCase()} found.
        </p>
      ) : (
        <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6">
          {items.map((item) => (
            <Link
              key={item._id}
              href={
                type === "movies"
                  ? PATHS.MOVIE_DETAILS(item._id)
                  : PATHS.SERIES_DETAILS(item._id)
              }
              className="bg-card rounded-xl overflow-hidden transition hover:scale-105"
            >
              <Image
                src={
                  item.poster?.trim()
                    ? item.poster
                    : "/assets/images/img_hero.jpg"
                }
                alt={item.name}
                width={400}
                height={300}
                className="w-full h-56 object-cover"
              />

              <div className="p-4">
                <h3 className="font-semibold">{item.name}</h3>
                {item.releaseYear && (
                  <p className="text-muted text-sm">
                    {item.releaseYear}
                  </p>
                )}
              </div>
            </Link>
          ))}
        </div>
      )}
    </section>
  );
}
</file>

<file path="src/pages/genres/GenreDetails/GenreDetails.tsx">
"use client";

import React, { useEffect, useState } from "react";
import { Container } from "@/components/containers/Container";
import { useGenres } from "@/pages/genres/hooks/useGenres";
import Section from "./components/section";
import { Item } from "@/types/geners";
import Pagination from "@/components/ui/Pagination";
import { BackendPagination } from "@/types/pagination";

export default function GenreDetailsComponent({
  params,
}: {
  params: Promise<{ id: string }>;
}) {
  /* ================= ROUTE PARAM ================= */
  const { id } = React.use(params);

  /* ================= STATE ================= */
  const [movies, setMovies] = useState<Item[]>([]);
  const [series, setSeries] = useState<Item[]>([]);

  const [moviesPage, setMoviesPage] = useState(1);
  const [seriesPage, setSeriesPage] = useState(1);

  const [moviesPagination, setMoviesPagination] =
    useState<BackendPagination | null>(null);
  const [seriesPagination, setSeriesPagination] =
    useState<BackendPagination | null>(null);

  const [loading, setLoading] = useState(true);
  const [genreName, setGenreName] = useState("");

  const API_URL = process.env.NEXT_PUBLIC_API_URL;
  const { allGenres } = useGenres();

  /* ================= GENRE NAME ================= */
  useEffect(() => {
    if (!allGenres.length) return;

    const name =
      allGenres.find((g) => g._id === id)?.name_en || "";

    setGenreName(name);
  }, [allGenres, id]);

  /* ================= RESET PAGES WHEN GENRE CHANGES ================= */
  useEffect(() => {
    setMoviesPage(1);
    setSeriesPage(1);
  }, [id]);

  /* ================= FETCH DATA ================= */
  useEffect(() => {
    async function fetchByGenre() {
      try {
        setLoading(true);

        const [moviesRes, seriesRes] = await Promise.all([
          fetch(
            `${API_URL}/movies?genresRefs=${id}&page=${moviesPage}`
          ),
          fetch(
            `${API_URL}/series?genres=${id}&page=${seriesPage}`
          ),
        ]);

        const moviesData = await moviesRes.json();
        const seriesData = await seriesRes.json();

        setMovies(moviesData.data || []);
        setSeries(seriesData.data || []);

        setMoviesPagination(moviesData.pagination);
        setSeriesPagination(seriesData.pagination);
      } catch (err) {
        console.error("Failed to fetch genre items:", err);
      } finally {
        setLoading(false);
      }
    }

    fetchByGenre();
  }, [API_URL, id, moviesPage, seriesPage]);

  /* ================= UI ================= */
  return (
    <Container className="pt-20">
      {/* HEADER */}
      <div className="mb-10">
        <h1 className="text-3xl font-bold capitalize">
          {genreName} Genre
        </h1>
        <p className="text-muted">
          Browse movies and series in this genre
        </p>
      </div>

      {/* LOADING */}
      {loading && (
        <p className="text-center text-muted">Loading...</p>
      )}

      {/* CONTENT */}
      {!loading && (
        <>
          {/* ================= MOVIES ================= */}
          <Section title="Movies" items={movies} type="movies" />

          {moviesPagination && (
            <Pagination
              pagination={moviesPagination}
              onChange={(p) => {
                setMoviesPage(p);
               
              }}
            />
          )}

          {/* ================= SERIES ================= */}
          <Section title="Series" items={series} type="series" />

          {seriesPagination && (
            <Pagination
              pagination={seriesPagination}
              onChange={(p) => {
                setSeriesPage(p);
                
              }}
            />
          )}
        </>
      )}
    </Container>
  );
}
</file>

<file path="src/pages/home/Home.tsx">
// components
import Movies from "../movies/components/Movies";
import Hero from "./components/Hero";


export default function HomePageComponent() {

    return (
        <>
            <Hero type="movies" limit={5} />
            <Movies />
        </>
    )

}
</file>

<file path="src/pages/movies/movies.tsx">
// components
import Hero from "../home/components/Hero";
import Movies from "./components/Movies";


export default function MoviesPageComponent() {
    return (
        <div>
            <Hero type="movies" limit={5} />
            <Movies />
        </div>
    )
}
</file>

<file path="src/pages/search/components/ActorsResults.tsx">
import Link from "next/link";
import Image from "next/image";
import { PATHS } from "@/constant/PATHS";

export default function ActorsResults({ data }: { data: any[] }) {
  if (!data.length) return null;

  return (
    <section>
      <h2 className="text-2xl font-bold mb-4">Actors</h2>

      <div className="grid grid-cols-2 md:grid-cols-6 gap-6">
        {data.map((actor) => (
          <Link
            key={actor._id}
            href={PATHS.ACTOR_DETAILS(actor._id)}
            className="text-center"
          >
            <Image
              src={actor.profilePath || "/assets/images/img_hero.jpg"}
              alt={actor.name}
              width={200}
              height={200}
              className="rounded-full h-32 w-32 object-cover mx-auto"
            />
            <p className="mt-2 font-semibold">{actor.name}</p>
          </Link>
        ))}
      </div>
    </section>
  );
}
</file>

<file path="src/pages/search/components/MoviesResults.tsx">
import Link from "next/link";
import Image from "next/image";
import { PATHS } from "@/constant/PATHS";

export default function MoviesResults({ data }: { data: any[] }) {
  if (!data.length) return null;

  return (
    <section>
      <h2 className="text-2xl font-bold mb-4">Movies</h2>

      <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
        {data.map((item) => (
          <Link
            key={item._id}
            href={PATHS.MOVIE_DETAILS(item._id)}
            className="bg-card rounded-xl overflow-hidden"
          >
            <Image
              src={item.poster || "/assets/images/img_hero.jpg"}
              alt={item.name}
              width={300}
              height={200}
              className="h-48 w-full object-cover"
            />
            <p className="p-3 font-semibold">{item.name}</p>
          </Link>
        ))}
      </div>
    </section>
  );
}
</file>

<file path="src/pages/search/components/SeriesResults.tsx">
import Link from "next/link";
import Image from "next/image";
import { PATHS } from "@/constant/PATHS";

export default function SeriesResults({ data }: { data: any[] }) {
  if (!data.length) return null;

  return (
    <section>
      <h2 className="text-2xl font-bold mb-4">Series</h2>

      <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
        {data.map((item) => (
          <Link
            key={item._id}
            href={PATHS.SERIES_DETAILS(item._id)}
            className="bg-card rounded-xl overflow-hidden"
          >
            <Image
              src={item.poster || "/assets/images/img_hero.jpg"}
              alt={item.name}
              width={300}
              height={200}
              className="h-48 w-full object-cover"
            />
            <p className="p-3 font-semibold">{item.name}</p>
          </Link>
        ))}
      </div>
    </section>
  );
}
</file>

<file path="src/pages/series/series.tsx">
// components
import Hero from "../home/components/Hero";
import Series from "./components/Series";


export default function SeriesPageComponent() {
    return (
        <div>
            <Hero type="series" limit={5} />
            <Series />
        </div>
    )
}
</file>

<file path="src/types/geners.ts">
export type Item = {
  _id: string;
  name: string;
  poster?: string;
  releaseYear?: number;
};
</file>

<file path="src/types/pagination.ts">
export type BackendPagination = {
  page: number;
  limit: number;
  totalDocs: number;
  totalPages: number;
  nextPage?: number;
};
</file>

<file path="src/types/user.ts">
export type UserType = {
  _id: string;
  firstName: string;
  lastName: string;
  email: string;
  photo: string;
  role: string;
  active: boolean;
  favorites?: string[];
};

export type AuthContextType = {
  user: UserType | null;
  setUser: React.Dispatch<React.SetStateAction<UserType | null>>;
  isLoggedIn: boolean;
  loading: boolean;
  fetchUser: () => Promise<void>;
  logout: () => void;
};
</file>

<file path=".gitignore">
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/versions

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files (can opt-in for committing if needed)
.env*

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts


plan.md
</file>

<file path="eslint.config.mjs">
import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  // Override default ignores of eslint-config-next.
  globalIgnores([
    // Default ignores of eslint-config-next:
    ".next/**",
    "out/**",
    "build/**",
    "next-env.d.ts",
  ]),
]);

export default eslintConfig;
</file>

<file path="postcss.config.mjs">
const config = {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};

export default config;
</file>

<file path="public/file.svg">
<svg fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 13.5V5.41a1 1 0 0 0-.3-.7L9.8.29A1 1 0 0 0 9.08 0H1.5v13.5A2.5 2.5 0 0 0 4 16h8a2.5 2.5 0 0 0 2.5-2.5m-1.5 0v-7H8v-5H3v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1M9.5 5V2.12L12.38 5zM5.13 5h-.62v1.25h2.12V5zm-.62 3h7.12v1.25H4.5zm.62 3h-.62v1.25h7.12V11z" clip-rule="evenodd" fill="#666" fill-rule="evenodd"/></svg>
</file>

<file path="public/globe.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.27 14.1a6.5 6.5 0 0 0 3.67-3.45q-1.24.21-2.7.34-.31 1.83-.97 3.1M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.48-1.52a7 7 0 0 1-.96 0H7.5a4 4 0 0 1-.84-1.32q-.38-.89-.63-2.08a40 40 0 0 0 3.92 0q-.25 1.2-.63 2.08a4 4 0 0 1-.84 1.31zm2.94-4.76q1.66-.15 2.95-.43a7 7 0 0 0 0-2.58q-1.3-.27-2.95-.43a18 18 0 0 1 0 3.44m-1.27-3.54a17 17 0 0 1 0 3.64 39 39 0 0 1-4.3 0 17 17 0 0 1 0-3.64 39 39 0 0 1 4.3 0m1.1-1.17q1.45.13 2.69.34a6.5 6.5 0 0 0-3.67-3.44q.65 1.26.98 3.1M8.48 1.5l.01.02q.41.37.84 1.31.38.89.63 2.08a40 40 0 0 0-3.92 0q.25-1.2.63-2.08a4 4 0 0 1 .85-1.32 7 7 0 0 1 .96 0m-2.75.4a6.5 6.5 0 0 0-3.67 3.44 29 29 0 0 1 2.7-.34q.31-1.83.97-3.1M4.58 6.28q-1.66.16-2.95.43a7 7 0 0 0 0 2.58q1.3.27 2.95.43a18 18 0 0 1 0-3.44m.17 4.71q-1.45-.12-2.69-.34a6.5 6.5 0 0 0 3.67 3.44q-.65-1.27-.98-3.1" fill="#666"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>
</file>

<file path="public/next.svg">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 394 80"><path fill="#000" d="M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z"/><path fill="#000" d="M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z"/></svg>
</file>

<file path="public/vercel.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1155 1000"><path d="m577.3 0 577.4 1000H0z" fill="#fff"/></svg>
</file>

<file path="public/window.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 2.5h13v10a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zM0 1h16v11.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 0 12.5zm3.75 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5M7 4.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5" fill="#666"/></svg>
</file>

<file path="README.md">
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
</file>

<file path="src/app/account/favorites/page.tsx">
// protected route wrapper for favorites page
import ProtectedRoute from "@/components/auth/ProtectedRoute";

// favorites page component
import FavoritesPage from "@/pages/account/favorites/favorites";

export default function Favorites() {
  return (
     <ProtectedRoute>
       <FavoritesPage />
     </ProtectedRoute>
  );
}
</file>

<file path="src/app/account/layout.tsx">
// components 
import Header from "@/components/header/Header";

export default function RootLayout({ children }: { children: React.ReactNode }) {
    return (
        <>
            <Header />
            {children}
        </>

    );
}
</file>

<file path="src/app/account/watchlist/page.tsx">
// protected route wrapper for watchlist page
import ProtectedRoute from "@/components/auth/ProtectedRoute";

// watchlist page component
import WatchlistPage from "@/pages/account/watchlist/watchlist";

export default function Watchlist() {
  return (
     <ProtectedRoute>
      <WatchlistPage />
     </ProtectedRoute>
  );
}
</file>

<file path="src/app/auth/forget-password/page.tsx">
// forgot password page component 
import ForgotPasswordPage from "@/pages/auth/forget-password/forgetPassword";

export default function Login() {
  return (
    <ForgotPasswordPage />
  );
}
</file>

<file path="src/app/auth/login/page.tsx">
// guest route wrapper for login page
import GuestRoute from "@/components/auth/GuestRoute";

// login page component
import LoginPage from "@/pages/auth/login/login";

export default function Login() {
  return (
    <GuestRoute>
      <LoginPage />
    </GuestRoute>
  );
}
</file>

<file path="src/app/auth/page.tsx">
// Next
import Link from "next/link";

// guest route wrapper for auth hub page
import GuestRoute from "@/components/auth/GuestRoute";


// paths constant
import { PATHS } from "@/constant/PATHS";

//component 
import SocialButtons from "@/components/ui/SocialButtons";


export default function AuthHubPage() {
    return (
        <GuestRoute>
            <div className=" min-h-screen flex items-center justify-center bg-main">


                <div className="relative z-10 w-[90%] max-w-lg bg-card p-10 rounded-xl border border-main shadow-xl">
                    <h1 className="text-4xl font-extrabold text-center text-primary tracking-wide mb-4">
                        Welcome to MoviesApp üé¨
                    </h1>

                    <p className="text-center text-text-soft text-lg mb-8">
                        Explore unlimited Movies and Series. Start your journey!
                    </p>

                    <div className="flex flex-col gap-4">
                        <Link
                            href={PATHS.LOGIN}
                            className="w-full text-center btn-primary py-3 rounded-lg font-semibold shadow hover:shadow-lg transition"
                        >
                            Login
                        </Link>

                        <Link
                            href={PATHS.SIGNUP}
                            className="w-full text-center py-3 rounded-lg font-semibold bg-white/10 border border-main hover:bg-white/20 transition"
                        >
                            Create Account
                        </Link>
                    </div>

                    <div className="mt-6 text-center space-y-2">
                        <Link href={PATHS.FORGOT_PASSWORD} className="text-primary hover:underline">
                            Forgot password?
                        </Link>
                    </div>

                    {/* Divider */}
                    <div className="flex items-center my-8">
                        <div className="flex-1 h-px bg-main"></div>
                        <span className="px-3 text-text-soft">OR</span>
                        <div className="flex-1 h-px bg-main"></div>
                    </div>

                    {/* Social Buttons */}
                    <SocialButtons />

                </div>
            </div>
        </GuestRoute>
    );
}
</file>

<file path="src/app/auth/reset-password/[token]/page.tsx">
// reset password page component
import ResetPasswordPage from "@/pages/auth/reset-password/resetPassword";

export default async function ResetPassword({ params }: {params:Promise<{token:string}>}) {
  const {token} = await params;
  return <ResetPasswordPage token={token} />;
}
</file>

<file path="src/app/auth/signup/page.tsx">
// guest route wrapper for signup page
import GuestRoute from "@/components/auth/GuestRoute";

// signup page component
import SignupPage from "@/pages/auth/signup/signup";

export default function Signup() {
  return (
    <GuestRoute>
      <SignupPage />
    </GuestRoute>
  );
}
</file>

<file path="src/app/movies/[id]/page.tsx">
//components
import { Container } from "@/components/containers/Container";

type PageProps = {
  params: Promise<{ id: string }>;
};


export default async function MovieDetailsPage({ params }: PageProps) {
  const { id } = await params;

  return (
    <Container>

      <h1>Movie Details Page for ID: {id}</h1>
    </Container>
  );
}
</file>

<file path="src/app/series/[id]/page.tsx">
type PageProps = {
  params: Promise<{ id: string }>;
};
import SingleSeries from "@/pages/series/components/SingleSeries"

export default async function SeriesDetailsPage({ params }: PageProps) {
  const { id } = await params;

  return (
    <>
    <SingleSeries id={id}/>
    

    </>
  );
}
</file>

<file path="src/components/containers/Container.tsx">
import React from "react";

//types 
interface ContainerProps {
  children: React.ReactNode;
  className?: string;
}

export const Container = ({ children, className }: ContainerProps) => {
  return (
    <div className={`w-[80%] mx-auto ${className || ""}`}>
      {children}
    </div>
  );
};
</file>

<file path="src/components/header/SearchBar.tsx">
"use client";

import { X, Search } from "lucide-react";
import { useRouter } from "next/navigation";
import { useState } from "react";

export default function SearchBar({ showSearch, setShowSearch }: any) {
  const router = useRouter();
  const [query, setQuery] = useState("");

  if (!showSearch) return null;

  function handleSubmit(e: React.FormEvent) {
    e.preventDefault();
    if (!query.trim()) return;

    router.push(`/search?q=${encodeURIComponent(query)}`);
    setShowSearch(false);
  }

  return (
    <div className="absolute top-full left-0 w-full bg-card border-b border-main p-4 z-50">
      <form
        onSubmit={handleSubmit}
        className="max-w-4xl mx-auto flex items-center gap-3"
      >
        <Search size={20} className="text-muted" />

        <input
          value={query}
          onChange={(e) => setQuery(e.target.value)}
          placeholder="Search movies, series, actors..."
          className="flex-1 bg-transparent outline-none text-main"
        />

        <button type="button" onClick={() => setShowSearch(false)}>
          <X size={22} />
        </button>
      </form>
    </div>
  );
}
</file>

<file path="src/components/ui/AuthBackground.tsx">
// Next
import Image, { StaticImageData } from "next/image";

type AuthBackgroundProps = {
  image: StaticImageData;
};

export default function AuthBackground({ image }: AuthBackgroundProps) {
  return (
    <div className="absolute inset-0">
      <Image
        src={image}
        alt="Auth Background"
        fill
        priority
        className="object-cover opacity-40"
      />

      {/* Dynamic Overlay */}
      <div className="absolute inset-0 bg-overlay" />
    </div>
  );
}
</file>

<file path="src/components/ui/AuthHeader.tsx">
type AuthHeaderProps ={
  title: string;
  subtitle: string;
}

export default function AuthHeader({
  title,
  subtitle,
}: AuthHeaderProps) {

  return (
    <>
      <h1 className="text-3xl font-bold text-center mb-3 text-main">{title}</h1>
      <p className="text-center text-text-soft text-sm mb-6">{subtitle}</p>
    </>
  );
}
</file>

<file path="src/contexts/AuthContext.tsx">
"use client";

//react 
import { createContext, useContext, useEffect, useState } from "react";

//path constant
import { PATHS } from "@/constant/PATHS";

//types user
import { AuthContextType, UserType } from "@/types/user";


const AuthContext = createContext<AuthContextType>({
  user: null,
  setUser: () => { },
  isLoggedIn: false,
  loading: true,
  fetchUser: async () => { },
  logout: () => { },
});

export function AuthProvider({ children }: { children: React.ReactNode }) {
  const [user, setUser] = useState<UserType | null>(null);
  const [loading, setLoading] = useState(true);

  const API_URL = process.env.NEXT_PUBLIC_API_URL!;

  // *** Fetch user by calling /auth/me ***
  async function fetchUser() {
    try {
      const res = await fetch(`${API_URL}/auth/me`, {
        credentials: "include",
      });

      const data = await res.json();

      if (!res.ok) {
        setUser(null);
      } else {
        setUser(data.data.user);
      }
    } catch (err) {
      setUser(null);
    } finally {
      setLoading(false);
    }
  }

  useEffect(() => {
    fetchUser();
  }, []);

  const logout = async () => {
    await fetch(`${API_URL}/auth/logout`, {
      method: "GET",
      credentials: "include",
    });

    setUser(null);
    window.location.href = PATHS.LOGIN;
  };

  return (
    <AuthContext.Provider
      value={{
        user,
        setUser,
        isLoggedIn: !!user,
        loading,
        fetchUser,
        logout,
      }}
    >
      {children}
    </AuthContext.Provider>
  );
}

export const useAuth = () => useContext(AuthContext);
</file>

<file path="src/contexts/FavoriteContext.tsx">
"use client";

import {
  createContext,
  useContext,
  useEffect,
  useState,
  ReactNode,
} from "react";

/* ================= TYPES ================= */

export type FavoriteItem = {
  id: string;
  type: "movies" | "series";
};

type FavoriteContextType = {
  favoriteList: FavoriteItem[];
  toggleFavorite: (item: FavoriteItem) => void;
  isFavorite: (item: FavoriteItem) => boolean;
  clearFavorites: () => void;
};

/* ================= CONTEXT ================= */

const FavoriteContext = createContext<FavoriteContextType | undefined>(
  undefined
);

/* ================= PROVIDER ================= */

export function FavoriteProvider({ children }: { children: ReactNode }) {
  const [favoriteList, setFavoriteList] = useState<FavoriteItem[]>([]);

  /* Load from localStorage */
  useEffect(() => {
    const stored = localStorage.getItem("favoriteList");
    if (stored) {
      try {
        setFavoriteList(JSON.parse(stored));
      } catch {
        setFavoriteList([]);
      }
    }
  }, []);

  /* Save to localStorage */
  useEffect(() => {
    localStorage.setItem("favoriteList", JSON.stringify(favoriteList));
  }, [favoriteList]);

  /* Toggle favorite (movie / series) */
  const toggleFavorite = (item: FavoriteItem) => {
    setFavoriteList(prev =>
      prev.some(f => f.id === item.id && f.type === item.type)
        ? prev.filter(f => !(f.id === item.id && f.type === item.type))
        : [...prev, item]
    );
  };

  /* Check if item is favorite */
  const isFavorite = (item: FavoriteItem) =>
    favoriteList.some(
      f => f.id === item.id && f.type === item.type
    );

  /* Clear all favorites */
  const clearFavorites = () => {
    setFavoriteList([]);
  };

  return (
    <FavoriteContext.Provider
      value={{
        favoriteList,
        toggleFavorite,
        isFavorite,
        clearFavorites,
      }}
    >
      {children}
    </FavoriteContext.Provider>
  );
}

/* ================= HOOK ================= */

export function useFavorite() {
  const context = useContext(FavoriteContext);
  if (!context) {
    throw new Error("useFavorite must be used inside FavoriteProvider");
  }
  return context;
}
</file>

<file path="src/hooks/auth/useSocialAuth.ts">
"use client";

// React
import { useState } from "react";

//contexts
import { useAuth } from "@/contexts/AuthContext";

//hooks
import useApiHandler from "@/lib/api/useApiHandler";

//toast notify
import toast from "react-hot-toast";

const API_URL = process.env.NEXT_PUBLIC_API_URL;

type SocialProvider = "google" | "facebook";

export default function useSocialAuth() {
  const { fetchUser } = useAuth();
  const { post } = useApiHandler();
  const [isLoading, setIsLoading] = useState(false);

  const socialLogin = async (
    provider: SocialProvider,
    token: string
  ) => {
    try {
      setIsLoading(true);

      const endpoint =
        provider === "google"
          ? "/auth/google-login"
          : "/auth/facebook-login";

      const payload =
        provider === "google"
          ? { idToken: token }
          : { accessToken: token };

      const res = await post(
        `${API_URL}${endpoint}`,
        payload,
        { credentials: "include" }
      );

      if (res.success) {
        toast.success(`Logged in with ${provider} üéâ`);
        await fetchUser();
      } else {
        toast.error(res.message || `${provider} login failed`);
      }

      return res;
    } catch {
      toast.error(`${provider} login failed`);
      return { success: false };
    } finally {
      setIsLoading(false);
    }
  };

  return {
    socialLogin,
    isLoading,
  };
}
</file>

<file path="src/pages/account/favorites/favorites.tsx">
"use client";

import Image from "next/image";
import Link from "next/link";

// icons
import { Heart, Film, Tv } from "lucide-react";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import {
  faHeart as faHeartSolid,
} from "@fortawesome/free-solid-svg-icons";
import {
  faHeart as faHeartRegular,
} from "@fortawesome/free-regular-svg-icons";

// context
import { useFavorite } from "@/contexts/FavoriteContext";

// components
import { Container } from "@/components/containers/Container";
import GridSkeleton from "@/components/skeletons/GridSkeleton";
import Pagination from "@/components/ui/Pagination";

// hook
import { useFavorites } from "./hooks/useFavorites";

export default function FavoritesPage() {
  const { toggleFavorite, favoriteList } = useFavorite();

  const {
    loading,
    activeTab,
    setActiveTab,
    items,
    page,
    setPage,
    pagination,
  } = useFavorites();

  return (
    <Container>
      <div className="px-4 py-10 space-y-8">

        {/* ================= HEADER ================= */}
        <div>
          <h1 className="text-3xl md:text-4xl font-bold flex items-center gap-3">
            <Heart className="text-primary" />
            Your Favorites
          </h1>
          <p className="text-muted mt-1">
            Movies & Series you marked as favorite
          </p>
        </div>

        {/* ================= TABS ================= */}
        <div className="flex justify-center gap-4">
          <button
            onClick={() => setActiveTab("movies")}
            className={`flex items-center gap-2 px-5 py-2 rounded-full
              ${
                activeTab === "movies"
                  ? "btn-primary text-white"
                  : "bg-soft hover:bg-card"
              }`}
          >
            <Film size={18} />
            Movies
          </button>

          <button
            onClick={() => setActiveTab("series")}
            className={`flex items-center gap-2 px-5 py-2 rounded-full
              ${
                activeTab === "series"
                  ? "btn-primary text-white"
                  : "bg-soft hover:bg-card"
              }`}
          >
            <Tv size={18} />
            Series
          </button>
        </div>

        {/* ================= LOADING ================= */}
        {loading && <GridSkeleton count={6} />}

        {/* ================= EMPTY STATE ================= */}
        {!loading && pagination.totalDocs === 0 && (
          <div className="text-center py-20 space-y-4">
            <p className="text-muted text-lg">
              No {activeTab} favorites yet
            </p>

            <Link
              href={activeTab === "movies" ? "/movies" : "/series"}
              className="inline-block btn-primary px-6 py-3 rounded-lg font-semibold"
            >
              Browse {activeTab === "movies" ? "Movies" : "Series"}
            </Link>
          </div>
        )}

        {/* ================= GRID ================= */}
        {!loading && items.length > 0 && (
          <>
            <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
              {items.map((item) => (
                <div
                  key={`${item.type}-${item._id}`}
                  className="p-4 bg-card rounded-xl shadow"
                >
                  <div className="relative rounded-lg overflow-hidden">
                    <Link href={`/${item.type}/${item._id}`}>
                      <Image
                        src={item.poster || "/assets/images/img_hero.jpg"}
                        alt={item.name}
                        width={400}
                        height={300}
                        className="w-full h-52 object-cover"
                      />
                    </Link>

                    <button
                      className="absolute top-3 right-3 bg-soft p-2 rounded-full"
                      onClick={() =>
                        toggleFavorite({
                          id: item._id,
                          type: item.type,
                        })
                      }
                    >
                      <FontAwesomeIcon
                        icon={
                          favoriteList.some(
                            (f) =>
                              f.id === item._id &&
                              f.type === item.type
                          )
                            ? faHeartSolid
                            : faHeartRegular
                        }
                        className={`text-xl ${
                          favoriteList.some(
                            (f) =>
                              f.id === item._id &&
                              f.type === item.type
                          )
                            ? "text-red-500"
                            : "text-muted"
                        }`}
                      />
                    </button>
                  </div>

                  <p className="font-bold mt-2">{item.name}</p>
                  {item.releaseYear && (
                    <p className="text-sm text-muted">
                      {item.releaseYear}
                    </p>
                  )}
                </div>
              ))}
            </div>

            {/* ================= PAGINATION ================= */}
            {pagination.totalPages > 1 && (
              <Pagination
                pagination={pagination}
                onChange={(p) => {
                  setPage(p);
                  
                }}
              />
            )}
          </>
        )}
      </div>
    </Container>
  );
}
</file>

<file path="src/pages/account/profile/change-password/ChangePasswordPage.tsx">
"use client";


// cpmponents
import Input from "@/components/ui/Input";
import PrimaryButton from "@/components/ui/PrimaryButton";

//hooks
import { yupResolver } from "@hookform/resolvers/yup";
import { useForm } from "react-hook-form";
import useChangePassword from "./hooks/useChangePassword";

//validation
import {
  ChangePasswordSchemaType,
  changePasswordSchema,
} from "./validation";

export default function ChangePasswordPage() {
  const { changePassword, isLoading } = useChangePassword();

  const {
    register,
    handleSubmit,
    formState: { errors },
  } = useForm<ChangePasswordSchemaType>({
    resolver: yupResolver(changePasswordSchema),
  });

  return (
    <div className=" flex justify-center pt-11 px-6 bg-main">
      <div className="w-full max-w-3xl bg-[var(--color-background-card)]  border border-main rounded-xl shadow-2xl p-10 backdrop-blur-md">
        
        <h1 className="text-3xl font-bold text-main mb-3">Security Settings</h1>
        <p className="text-muted mb-6">Change your password to keep your account safe.</p>

        <form onSubmit={handleSubmit(changePassword)} className="space-y-6">
          
          <Input
            label="Current Password"
            type="password"
            error={errors.currentPassword?.message}
            {...register("currentPassword")}
          />

          <Input
            label="New Password"
            type="password"
            error={errors.newPassword?.message}
            {...register("newPassword")}
          />

          <Input
            label="Confirm Password"
            type="password"
            error={errors.confirmNewPassword?.message}
            {...register("confirmNewPassword")}
          />

          <PrimaryButton type="submit" isLoading={isLoading}>
            Update Password
          </PrimaryButton>

        </form>
      </div>
    </div>
  );
}
</file>

<file path="src/pages/account/profile/change-password/hooks/useChangePassword.ts">
"use client";

// React & Next
import { useState } from "react";
import { useRouter } from "next/navigation";

//toast notify
import toast from "react-hot-toast";

//paths constants
import { PATHS } from "@/constant/PATHS";


type data = { currentPassword: string; newPassword: string; confirmNewPassword: string }

export default function useChangePassword() {
  const [isLoading, setIsLoading] = useState(false);

  const router = useRouter();
  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const changePassword = async (formData: data) => {
    try {
      setIsLoading(true);

      const res = await fetch(`${API_URL}/users/change-password`, {
        method: "PATCH",
        credentials: "include",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formData),
      });

      const result = await res.json();

      if (!res.ok) {
        toast.error(result.message);
        return false;
      }

      toast.success("Password updated successfully!");

      setTimeout(() => {
        router.push(PATHS.PROFILE);
      }, 800);

      return true;
    } catch (error) {
      toast.error("Something went wrong");
      return false;
    } finally {
      setIsLoading(false);
    }
  };

  return { changePassword, isLoading };
}
</file>

<file path="src/pages/account/profile/components/ProfileCard.tsx">
"use client";

// Next
import Image from "next/image";

// components
import ProfileInfoRow from "./ProfileInfoRow";

// contexts
import { useAuth } from "@/contexts/AuthContext";
import { useFavorite } from "@/contexts/FavoriteContext";

export default function ProfileCard() {
  const { user } = useAuth();
  const { favoriteList } = useFavorite();

  if (!user) return null;

  const moviesCount = favoriteList.filter(
    (f) => f.type === "movie"
  ).length;

  const seriesCount = favoriteList.filter(
    (f) => f.type === "series"
  ).length;

  return (
    <div className="bg-card border border-main rounded-xl p-6 md:p-8 shadow-xl">

      <div className="flex flex-col sm:flex-row items-center sm:items-start gap-6 mb-8">
        <div className="w-24 h-24 rounded-full bg-soft border border-main overflow-hidden flex items-center justify-center">
          {user.photo ? (
            <Image
              src={user.photo}
              alt="Profile"
              width={96}
              height={96}
              className="rounded-full object-cover"
            />
          ) : (
            <p className="text-primary text-3xl font-bold">
              {user.firstName?.[0] ?? "U"}
            </p>
          )}
        </div>

        <div className="text-center sm:text-left">
          <h2 className="text-2xl font-bold">
            {user.firstName} {user.lastName}
          </h2>
          <p className="text-muted">{user.email}</p>
        </div>
      </div>

      <div className="space-y-3">
        <ProfileInfoRow
          label="Full Name"
          value={`${user.firstName} ${user.lastName}`}
        />
        <ProfileInfoRow label="Email" value={user.email} />
        <ProfileInfoRow label="Role" value={user.role} />
        <ProfileInfoRow
          label="Status"
          value={user.active ? "Active" : "Inactive"}
        />

        <ProfileInfoRow
          label="Favorite Movies"
          value={`${moviesCount}`}
        />
        <ProfileInfoRow
          label="Favorite Series"
          value={`${seriesCount}`}
        />
      </div>

    </div>
  );
}
</file>

<file path="src/pages/account/profile/edit/hooks/useEditProfile.ts">
"use client";

//React & Next
import { useState } from "react";
import { useRouter } from "next/navigation";

//toast notify
import toast from "react-hot-toast";

//context
import { PATHS } from "@/constant/PATHS";
import { useAuth } from "@/contexts/AuthContext";


export default function useEditProfile() {
  const router = useRouter();
  const [isLoading, setIsLoading] = useState(false);
  const { setUser, fetchUser } = useAuth();


  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const updateProfile = async (formData: FormData) => {
    try {
      setIsLoading(true);

      const res = await fetch(`${API_URL}/users/update-me`, {
        method: "PATCH",
        credentials: "include",
        body: formData,
      });

      const data = await res.json();

      if (!res.ok) {
        toast.error(data.message);
        return false;
      }

      await fetchUser();


      toast.success("Profile updated successfully!");
      router.push(`${PATHS.PROFILE}`)

    } catch (error) {
      toast.error("Something went wrong");
      return false;
    } finally {
      setIsLoading(false);
    }
  };

  return { updateProfile, isLoading };
}
</file>

<file path="src/pages/account/profile/profilePage.tsx">
"use client";

//Next
import Link from "next/link";

//components
import ProfileCard from "./components/ProfileCard";

//context
import { useAuth } from "@/contexts/AuthContext";

//path constant
import { PATHS } from "@/constant/PATHS";

//react icons
import { User, Shield, LogOut } from "lucide-react";

export default function ProfilePage() {
  const { user, logout } = useAuth();

  if (!user) return null;

  return (
    <div className="min-h-screen py-20 px-4 sm:px-6 md:px-10">

      {/* PAGE HEADER */}
      <div className="max-w-5xl mx-auto mb-12 px-2">
        <h1 className="text-3xl sm:text-4xl font-bold ">
          Your Account
        </h1>
        <p className="text-muted mt-2 text-sm sm:text-base">
          Manage your profile and account preferences
        </p>
      </div>

      {/* PROFILE CARD */}
      <div className="max-w-3xl mx-auto px-2 mb-16">
        <ProfileCard user={user} />
      </div>

      {/* ACTION GRID */}
      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto px-2">

        {/* EDIT PROFILE */}
        <Link
          href={PATHS.PROFILE_EDIT}
          className="
            bg-[primary] border border-main rounded-xl p-8 
            shadow-lg transition flex flex-col items-center text-center gap-4 group
          "
        >
          <div className="w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center">
            <User size={30} className="text-primary" />
          </div>

          <h2 className="text-lg font-semibold  group-hover:text-primary transition">
            Edit Profile
          </h2>
          <p className="text-muted text-sm">
            Update your personal details
          </p>
        </Link>

        {/* CHANGE PASSWORD */}
        <Link
          href={PATHS.CHANGE_PASSWORD}
          className="
            bg-[primary] border border-main rounded-xl p-8 
            shadow-lg transition flex flex-col items-center text-center gap-4 group
          "
        >
          <div className="w-16 h-16 rounded-full bg-blue-500/20 flex items-center justify-center">
            <Shield size={30} className="text-blue-400" />
          </div>

          <h2 className="text-lg font-semibold  group-hover:text-blue-400 transition">
            Security
          </h2>
          <p className="text-muted text-sm">
            Change your password
          </p>
        </Link>

        {/* LOGOUT */}
        <button
          onClick={logout}
          className="
            bg-[primary] border border-main rounded-xl p-8 
            shadow-lg transition flex flex-col items-center text-center gap-4 group
          "
        >
          <div className="w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center">
            <LogOut size={30} className="text-red-400" />
          </div>

          <h2 className="text-lg font-semibold  group-hover:text-red-400 transition">
            Logout
          </h2>
          <p className="text-muted text-sm">
            Sign out securely
          </p>
        </button>

      </div>

    </div>
  );
}
</file>

<file path="src/pages/auth/reset-password/validation.ts">
import * as yup from "yup";

export const resetPasswordSchema = yup.object({
  password: yup
    .string()
    .min(8, "Password must be at least 8 characters")
    .required("Password is required"),

  confirmPassword: yup
    .string()
    .oneOf([yup.ref("password")], "Passwords do not match")
    .required("Confirm your password"),
});

export type ResetPasswordSchemaType = yup.InferType<typeof resetPasswordSchema>;
</file>

<file path="src/pages/genres/genres.tsx">
"use client";

import Link from "next/link";
import {
  Film,
  Tv,
  Flame,
  Ghost,
  Laugh,
  Heart,
  Sword,
  Rocket,
  Drama,
} from "lucide-react";

import { Container } from "@/components/containers/Container";
import { PATHS } from "@/constant/PATHS";
import { useGenres } from "./hooks/useGenres";
import GenreSkeleton from "@/components/skeletons/GenreSkeleton";


const GENRE_ICONS: Record<string, any> = {
  action: Sword,
  adventure: Rocket,
  comedy: Laugh,
  drama: Drama,
  horror: Ghost,
  romance: Heart,
  thriller: Flame,
  sci_fi: Rocket,
  animation: Film,
  tv: Tv,
};

const SKELETON_COUNT = 10;

export default function GenresPageComponent() {

  const {loading , genres} = useGenres()

  return (
    <Container className="pt-20">
      {/* ================= HEADER ================= */}
      <div className="mb-12 text-left">
        <h1 className="text-4xl font-extrabold mb-3">
          Genres
        </h1>
        <p className="text-muted">
          Explore movies & series by genre
        </p>
      </div>

      {/* ================= GRID ================= */}
      <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6">
        {loading
          ? Array.from({ length: SKELETON_COUNT }).map((_, i) => (
              <GenreSkeleton key={i} />
            ))
          : genres.map((genre) => {
              const key = genre.name_en
                .toLowerCase()
                .replace(/\s+/g, "_");

              const Icon = GENRE_ICONS[key] || Film;

              return (
                <Link
                  key={genre._id}
                  href={PATHS.GENRE_DETAILS(genre._id)}
                  className="group rounded-2xl border border-border bg-gradient-to-br from-card to-card/60 px-6 py-8 text-center transition-all duration-300 hover:scale-105 hover:border-primary/60 hover:shadow-lg hover:shadow-primary/20"
                >
                  <Icon
                    size={36}
                    className="mx-auto mb-4 text-primary/80 group-hover:text-primary"
                  />

                  <h3 className="font-semibold text-lg">
                    {genre.name_en}
                  </h3>

                  <span className="mt-3 inline-block text-xs text-primary bg-primary/10 px-3 py-1 rounded-full">
                    Explore
                  </span>
                </Link>
              );
            })}
      </div>
    </Container>
  );
}
</file>

<file path="src/pages/genres/hooks/useGenres.ts">
"use client";
import { Genre } from "@/types/movie";
import { useState, useEffect, useMemo } from "react";



export const useGenres = () => {
    const [genres, setGenres] = useState<Genre[]>([]);
    const [activeTab, setActiveTab] = useState("0");
    const [loading, setLoading] = useState(true);

    const API_URL = process.env.NEXT_PUBLIC_API_URL;

    /* ================= FETCH DATA ================= */
    useEffect(() => {
        async function fetchData() {
            try {
                const genresRes = await
                    fetch(`${API_URL}/genres`
                    );

                const genresData = await genresRes.json();

                setGenres(genresData.data);
            } catch (err) {
                console.error("Fetch error:", err);
            } finally {
                setLoading(false);
            }
        }

        fetchData();
    }, [API_URL]);



    const allGenres = useMemo(() => {
        return [{_id: "0", name_en: "all"}].concat(genres);     
    }, [genres]);


    return {
        genres,
        allGenres,
        activeTab,
        loading,
        setActiveTab,
    };
};
</file>

<file path="src/pages/search/hooks/useSearch.ts">
"use client";

import { useEffect, useState } from "react";
import { BackendPagination } from "@/types/pagination";

type Item = {
  _id: string;
  name: string;
  image?: string;
};

export default function useSearch(
  query: string,
  pages: {
    movies: number;
    series: number;
    actors: number;
  }
) {
  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const [movies, setMovies] = useState<Item[]>([]);
  const [series, setSeries] = useState<Item[]>([]);
  const [actors, setActors] = useState<Item[]>([]);

  const [pagination, setPagination] = useState<{
    movies?: BackendPagination;
    series?: BackendPagination;
    actors?: BackendPagination;
  }>({});

  const [loading, setLoading] = useState(true);

  useEffect(() => {
    if (!query) return;

    async function fetchAll() {
      setLoading(true);

      try {
        const [m, s, a] = await Promise.all([
          fetch(
            `${API_URL}/movies?search=${query}&page=${pages.movies}`
          ),
          fetch(
            `${API_URL}/series?search=${query}&page=${pages.series}`
          ),
          fetch(
            `${API_URL}/actors?search=${query}&page=${pages.actors}`
          ),
        ]);

        const moviesData = await m.json();
        const seriesData = await s.json();
        const actorsData = await a.json();

        setMovies(moviesData.data || []);
        setSeries(seriesData.data || []);
        setActors(actorsData.data || []);

        setPagination({
          movies: moviesData.pagination,
          series: seriesData.pagination,
          actors: actorsData.pagination,
        });
      } catch (e) {
        console.error(e);
      } finally {
        setLoading(false);
      }
    }

    fetchAll();
  }, [
    query,
    pages.movies,
    pages.series,
    pages.actors,
    API_URL,
  ]);

  return {
    movies,
    series,
    actors,
    pagination,
    loading,
  };
}
</file>

<file path="src/pages/search/search.tsx">
"use client";

import { useEffect, useState } from "react";
import { useSearchParams } from "next/navigation";
import { Container } from "@/components/containers/Container";
import useSearch from "./hooks/useSearch";
import MoviesResults from "./components/MoviesResults";
import SeriesResults from "./components/SeriesResults";
import ActorsResults from "./components/ActorsResults";
import Pagination from "@/components/ui/Pagination";

export default function SearchPageComponent() {
  const params = useSearchParams();
  const query = params?.get("q") || "";

  /* ===== PAGINATION STATE ===== */
  const [moviesPage, setMoviesPage] = useState(1);
  const [seriesPage, setSeriesPage] = useState(1);
  const [actorsPage, setActorsPage] = useState(1);

  /* reset pagination on new search */
  useEffect(() => {
    setMoviesPage(1);
    setSeriesPage(1);
    setActorsPage(1);
  }, [query]);

  const {
    movies,
    series,
    actors,
    pagination,
    loading,
  } = useSearch(query, {
    movies: moviesPage,
    series: seriesPage,
    actors: actorsPage,
  });

  return (
    <Container className="pt-20 space-y-14">
      <div>
        <h1 className="text-3xl font-bold">
          Search results for "{query}"
        </h1>
      </div>

      {loading ? (
        <p className="text-muted">Searching...</p>
      ) : (
        <>
          {/* ===== MOVIES ===== */}
          <MoviesResults data={movies} />
          {pagination.movies && (
            <Pagination
              pagination={pagination.movies}
              onChange={(p) => {
                setMoviesPage(p);
                
              }}
            />
          )}

          {/* ===== SERIES ===== */}
          <SeriesResults data={series} />
          {pagination.series && (
            <Pagination
              pagination={pagination.series}
              onChange={(p) => {
                setSeriesPage(p);
                
              }}
            />
          )}

          {/* ===== ACTORS ===== */}
          <ActorsResults data={actors} />
          {pagination.actors && (
            <Pagination
              pagination={pagination.actors}
              onChange={(p) => {
                setActorsPage(p);
               
              }}
            />
          )}
        </>
      )}
    </Container>
  );
}
</file>

<file path="src/pages/series/hooks/useSeries.ts">
"use client";

import { useEffect, useState } from "react";
import { BackendPagination } from "@/types/pagination";
import { Series } from "@/types/series";

export function useSeries(query?: string) {
  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const [series, setSeries] = useState<Series[]>([]);
  const [page, setPage] = useState(1);
  const [pagination, setPagination] =
    useState<BackendPagination | null>(null);
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    async function fetchSeries() {
      setLoading(true);
      try {
        const params = new URLSearchParams({
          page: String(page),
          ...(query ? Object.fromEntries(new URLSearchParams(query)) : {}),
        });

        const res = await fetch(`${API_URL}/series?${params}`);
        const data = await res.json();

        setSeries(data.data ?? []);
        setPagination(data.pagination ?? null);
      } catch (err) {
        console.error("Series fetch error:", err);
      } finally {
        setLoading(false);
      }
    }

    fetchSeries();
  }, [API_URL, page, query]);

  // üîë Reset page when genre changes
  useEffect(() => {
    setPage(1);
  }, [query]);

  return {
    series,
    loading,
    page,
    setPage,
    pagination,
  };
}
</file>

<file path="src/pages/setting/setting.tsx">
"use client";

// React
import { useState } from "react";

//contexts
import { useTheme } from "@/contexts/ThemeContext";
import { useLang } from "@/contexts/LangContext";

// react icons
import { Globe, Moon, Bell } from "lucide-react";

export default function SettingsPage() {
  const { theme, toggleTheme } = useTheme();
  const { lang, toggleLang } = useLang();

  const [notifications, setNotifications] = useState(true);

  return (
    <div className="min-h-screen pt-11 px-6 max-w-3xl mx-auto space-y-12">

      <div>
        <h1 className="text-3xl font-bold">Settings</h1>
        <p className="text-muted mt-2">Customize your app experience</p>
      </div>

      {/* THEME */}
      <div className="bg-card border border-main rounded-xl p-6">
        <div className="flex items-center justify-between">
          <div>
            <h2 className="text-lg font-semibold flex items-center gap-2">
              <Moon size={20} className="text-primary" /> Theme
            </h2>
            <p className="text-muted text-sm">Choose light or dark mode</p>
          </div>

          <button
            onClick={toggleTheme}
            className="px-4 py-2 bg-main border border-main rounded-lg"
          >
            {theme === "dark" ? "Dark Mode" : "Light Mode"}
          </button>
        </div>
      </div>

      {/* LANGUAGE */}
      <div className="bg-card border border-main rounded-xl p-6">
        <div className="flex items-center justify-between">
          <div>
            <h2 className="text-lg font-semibold flex items-center gap-2">
              <Globe size={20} className="text-primary" /> Language
            </h2>
            <p className="text-muted text-sm">Select your preferred language</p>
          </div>

          <button
            onClick={toggleLang}
            className="px-4 py-2 bg-main border border-main rounded-lg"
          >
            {lang === "en" ? "English" : "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©"}
          </button>
        </div>
      </div>

      {/* NOTIFICATIONS */}
      <div className="bg-card border border-main rounded-xl p-6">
        <div className="flex items-center justify-between">
          <div>
            <h2 className="text-lg font-semibold flex items-center gap-2">
              <Bell size={20} className="text-primary" /> Notifications
            </h2>
            <p className="text-muted text-sm">Push update preferences</p>
          </div>

          <button
            onClick={() => setNotifications(!notifications)}
            className="px-4 py-2 bg-main border border-main rounded-lg"
          >
            {notifications ? "Enabled" : "Disabled"}
          </button>
        </div>
      </div>

    </div>
  );
}
</file>

<file path="src/types/hero.ts">
export type HeroItem = {
    _id: string;
    name: string;
    backdrop?: string;
    description?: string;
    featured?: boolean;
};
</file>

<file path="src/types/movie.ts">
export type Genre = {
  _id: string;
  name_en: string; 
};

export type Movie = {
  _id: string;
  name: string;
  poster: string;
  releaseYear?: number;
  genresRefs?: string[];
};
</file>

<file path="tailwind.config.ts">
import type { Config } from "tailwindcss";

const config: Config = {
  content: [
    "./src/app/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/components/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/pages/**/*.{js,ts,jsx,tsx,mdx}",
  ],
  theme: {
    extend: {
      colors: {
        primary: "var(--color-primary)",
        secondary: "var(--color-secondary)",
        accent: "var(--color-accent)",
        warning: "var(--color-warning)",
        success: "var(--color-success)",
        danger: "var(--color-danger)",

        background: "var(--color-background)",
        soft: "var(--color-background-soft)",
        card: "var(--color-background-card)",

        text: "var(--color-text)",
        muted: "var(--color-text-muted)",
        softtext: "var(--color-text-soft)",

        border: "var(--color-border)",

        btn: {
          primary: "var(--color-btn-primary)",
          "primary-hover": "var(--color-btn-primary-hover)",
          secondary: "var(--color-btn-secondary)",
          "secondary-hover": "var(--color-btn-secondary-hover)",
        },

        badge: {
          hot: "var(--color-badge-hot)",
          new: "var(--color-badge-new)",
        },
      },

      backgroundImage: {
        hero: "var(--gradient-hero)",
        overlay: "var(--gradient-overlay)",
      },
    },
  },
  plugins: [],
};

export default config;
</file>

<file path="src/app/account/profile/page.tsx">
// protected route wrapper for profile page
import ProtectedRoute from "@/components/auth/ProtectedRoute";

// profile page component
import Profile from "@/pages/account/profile/profilePage";

export default function ProfilePage() {
  return (
    <ProtectedRoute>
     <Profile />
    </ProtectedRoute>
  );
}
</file>

<file path="src/app/actors/[id]/page.tsx">
import ActorDetailsComponent from "@/pages/actors/ActorDetails";

export default async function ActorDetailsPage({
  params,
}: {
  params: Promise<{ id: string }>;
}) {
  const { id } = await params;
  return <ActorDetailsComponent id={id} />;
}
</file>

<file path="src/app/actors/page.tsx">
import ActorsPageComponent from "@/pages/actors/actors";

export default function ActorsPage() {
  return <ActorsPageComponent />;
}
</file>

<file path="src/app/genres/page.tsx">
import GenresPageComponent from "@/pages/genres/genres"

export default function GenresPage() {
  return (
    <>
      <GenresPageComponent />
    </>
  )
}
</file>

<file path="src/app/series/page.tsx">
import SeriesPageComponent from "@/pages/series/series"
export default function SeriesPage() {
  return (
    <>
    
      <SeriesPageComponent/>
    </>
  );
}
</file>

<file path="src/components/ui/button.tsx">
export const button = () => {
  return (
    <button></button>
  )
}
</file>

<file path="src/components/ui/Input.tsx">
// helpers
import cn from "@/lib/utils/cn";

type InputProps ={
  label?: string;
  error?: string;

  className?: string;
  [key: string]: any;
}

export default function Input({
  label,
  error,
  leftIcon,
  rightIcon,
  className = "",
  ...props
}: InputProps) {
  
  return (
    <div className="space-y-1">
      
      {/* label */}
      {label && (
        <label className="text-text-soft block mb-1 font-medium">
          {label}
        </label>
      )}

      {/* wrapper */}
      <div className="relative flex items-center">
        
        {/* left icon */}
        {leftIcon && (
          <div className="absolute left-3 text-text-soft">
            {leftIcon}
          </div>
        )}

        {/* input */}
        <input
          className={cn(
            `w-full bg-card text-main border border-main rounded-lg p-3 outline-none
             focus:ring-2 focus:ring-primary placeholder:text-muted
            `,
            leftIcon ? "pl-10" : "",
            rightIcon ? "pr-10" : "",
            className
          )}
          {...props}
        />

        {/* right icon */}
        {rightIcon && (
          <div className="absolute right-3 text-text-soft cursor-pointer">
            {rightIcon}
          </div>
        )}
      </div>

      {/* error */}
      {error && <p className="text-primary text-sm">{error}</p>}
    </div>
  );
}
</file>

<file path="src/components/ui/PrimaryButton.tsx">
//components
import Spinner from "./Spinner";

type PrimaryButtonProps = {
  children: React.ReactNode;
  isLoading?: boolean;
  className?: string;
  [key: string]: any;
}


export default function PrimaryButton({
  children,
  isLoading,
  className = "",
  ...props
}: PrimaryButtonProps) {

  
  return (
    <button
      {...props}
      disabled={isLoading || props.disabled}
      className={`w-full btn-primary py-3 rounded-lg font-semibold shadow-md hover:shadow-lg transition disabled:opacity-60 flex items-center justify-center gap-2 ${className}`}
    >
      {isLoading ? (
        <>
          <Spinner />
          <span>Loading...</span>
        </>
      ) : (
        children
      )}
    </button>
  );
}
</file>

<file path="src/components/ui/SocialButtons.tsx">
"use client";

// React
import { useEffect, useRef, useState } from "react";

//react icons
import { FaFacebook } from "react-icons/fa";

//toast notify
import toast from "react-hot-toast";

//hooks
import useSocialAuth from "../../hooks/auth/useSocialAuth";


declare global {
  interface Window {
    google?: any;
    FB?: any;
    fbAsyncInit?: () => void;
  }
}

export default function SocialButtons() {
  const { socialLogin, isLoading } = useSocialAuth();

  const googleBtnRef = useRef<HTMLDivElement>(null);
  const [googleReady, setGoogleReady] = useState(false);
  const [facebookReady, setFacebookReady] = useState(false);


  
  /* ================= GOOGLE ================= */
  useEffect(() => {
    if (!process.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID) {
      console.error("‚ùå GOOGLE CLIENT ID missing");
      return;
    }

    const initGoogle = () => {
      window.google.accounts.id.initialize({
        client_id: process.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID!,
        callback: (response: any) => {
          if (!response.credential) {
            toast.error("Google login failed");
            return;
          }
          socialLogin("google", response.credential);
        },
      });

      if (googleBtnRef.current) {
        window.google.accounts.id.renderButton(googleBtnRef.current, {
          theme: "outline",
          size: "large",
          width: "100%",
        });
        setGoogleReady(true);
      }
    };

    if (window.google?.accounts?.id) {
      initGoogle();
      return;
    }

    const script = document.createElement("script");
    script.src = "https://accounts.google.com/gsi/client";
    script.async = true;
    script.defer = true;
    script.onload = initGoogle;
    script.onerror = () => toast.error("Failed to load Google SDK");
    document.body.appendChild(script);
  }, [socialLogin]);



  /* ================= FACEBOOK ================= */
  useEffect(() => {
    if (!process.env.NEXT_PUBLIC_FACEBOOK_APP_ID) {
      console.error("‚ùå FACEBOOK APP ID missing");
      return;
    }

    if (window.FB) {
      setFacebookReady(true);
      return;
    }

    window.fbAsyncInit = () => {
      window.FB.init({
        appId: process.env.NEXT_PUBLIC_FACEBOOK_APP_ID!,
        cookie: true,
        xfbml: false,
        version: "v19.0",
      });
      setFacebookReady(true);
    };

    const script = document.createElement("script");
    script.src = "https://connect.facebook.net/en_US/sdk.js";
    script.async = true;
    script.defer = true;
    script.onerror = () => toast.error("Failed to load Facebook SDK");
    document.body.appendChild(script);
  }, []);

  const handleFacebookLogin = () => {
    if (!window.FB) {
      toast.error("Facebook SDK not ready");
      return;
    }

    window.FB.login(
      (response: any) => {
        if (!response.authResponse?.accessToken) {
          toast.error("Facebook login failed");
          return;
        }
        socialLogin("facebook", response.authResponse.accessToken);
      },
      { scope: "public_profile,email" }
    );
  };

  return (
    <div className="space-y-4 mt-6">
      {/* GOOGLE */}
      <div className="w-full min-h-[44px]">
        {!googleReady && (
          <div className="w-full h-[44px] bg-gray-100 rounded-lg animate-pulse" />
        )}
        <div ref={googleBtnRef} />
      </div>

      {/* FACEBOOK */}
      <button
        onClick={handleFacebookLogin}
        disabled={!facebookReady || isLoading}
        className="w-full h-[44px] flex items-center justify-between gap-3 px-4 rounded-lg
                   bg-[#1877F2] text-white font-medium hover:bg-[#166FE5]
                   disabled:opacity-50"
      >
        <FaFacebook size={20} />
        <span>Continue with Facebook</span>
        <span />
      </button>
    </div>
  );
}
</file>

<file path="src/pages/auth/login/components/LoginForm.tsx">
"use client";

//Next
import Link from "next/link";

//hooks
import useLogin from "../hooks/useLogin";
import { useForm } from "react-hook-form";
import { yupResolver } from "@hookform/resolvers/yup";

//components
import Input from "@/components/ui/Input";
import PrimaryButton from "@/components/ui/PrimaryButton";
import SocialButtons from "@/components/ui/SocialButtons";

//validation Yup
import { loginSchema, LoginSchemaType } from "../validation";

export default function LoginForm() {
  const { login, isLoading, error } = useLogin();

  const { register, handleSubmit, formState: { errors } } =
    useForm<LoginSchemaType>({
      resolver: yupResolver(loginSchema),
      mode: "onBlur",
    });

  return (
    <form onSubmit={handleSubmit(login)} className="space-y-6">

      {/* API Error */}
      {error && <p className="text-primary text-sm font-bold">{error}</p>}

      {/* EMAIL */}
      <Input
        label="Email"
        placeholder="example@mail.com"
        error={errors.email?.message}
        {...register("email")}
      />

      {/* PASSWORD */}
      <Input
        label="Password"
        type="password"
        placeholder="******"
        error={errors.password?.message}
        {...register("password")}
      />

      {/* Forgot Password */}
      <div className="text-right -mt-2">
        <Link href="/auth/forget-password" className="text-primary text-sm hover:underline">
          Forgot password?
        </Link>
      </div>

      {/* LOGIN BUTTON */}
      <PrimaryButton isLoading={isLoading} type="submit">
        Login
      </PrimaryButton>

      {/* SIGNUP LINK */}
      <div className="text-center">
        <p className="text-text-soft text-sm">
          Don‚Äôt have an account?{" "}
          <Link href="/auth/signup" className="text-primary font-semibold hover:underline">
            Create an account
          </Link>
        </p>
      </div>

      {/* SOCIAL LOGIN */}
      <SocialButtons mode="login" />
    </form>
  );
}
</file>

<file path="src/pages/auth/login/login.tsx">
//components
import AuthCard from "@/components/ui/AuthCard";
import AuthHeader from "@/components/ui/AuthHeader";
import LoginForm from "@/pages/auth/login/components/LoginForm";

export default function LoginPage() {
  return (
    <div className="w-full flex items-center justify-center">

      <AuthCard>
        <AuthHeader 
          title="Welcome Back" 
          subtitle="Login to continue watching your movies" 
        />
        <LoginForm />
      </AuthCard>
    </div>
  );
}
</file>

<file path="src/pages/auth/signup/components/SignupForm.tsx">
"use client";

//components
import Input from "@/components/ui/Input";
import PrimaryButton from "@/components/ui/PrimaryButton";

//hooks
import useSignup from "../hooks/useSignup";
import { useForm } from "react-hook-form";
import { yupResolver } from "@hookform/resolvers/yup";

//validation
import { signupSchema, SignupSchemaType } from "../validation";


export default function SignupForm() {
  const { signup, isLoading } = useSignup();

  const {
    register,
    handleSubmit,
    formState: { errors },
  } = useForm<SignupSchemaType>({
    resolver: yupResolver(signupSchema),
    mode: "onBlur",
  });

  const onSubmit = async (data: SignupSchemaType) => {
    await signup(data);
  };

  return (
    <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">

      <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">

        <Input
          label="First Name"
          placeholder="John"
          error={errors.firstName?.message}
          {...register("firstName")}
        />

        <Input
          label="Last Name"
          placeholder="Doe"
          error={errors.lastName?.message}
          {...register("lastName")}
        />

      </div>

      <Input
        label="Email"
        placeholder="example@mail.com"
        error={errors.email?.message}
        {...register("email")}
      />

      <Input
        label="Password"
        type="password"
        placeholder="******"
        error={errors.password?.message}
        {...register("password")}
      />

      <Input
        label="Confirm Password"
        type="password"
        placeholder="******"
        error={errors.confirmPassword?.message}
        {...register("confirmPassword")}
      />

      <PrimaryButton isLoading={isLoading} type="submit">
        Sign Up
      </PrimaryButton>

    </form>
  );
}
</file>

<file path="src/pages/auth/signup/validation.ts">
//validation Yup schema and types
import * as yup from "yup";

export const signupSchema = yup.object().shape({
  firstName: yup.string().required("First name is required").min(2, "Too short"),
  lastName: yup.string().required("Last name is required").min(2, "Too short"),
  email: yup.string().required("Email is required").email("Invalid email"),
  password: yup.string().required("Password is required").min(8, "Min 8 characters"),
  confirmPassword: yup
    .string()
    .required("Confirm password")
    .oneOf([yup.ref("password")], "Passwords do not match"),
});

export type SignupSchemaType = yup.InferType<typeof signupSchema>;
</file>

<file path="src/pages/movies/hooks/useMovies.ts">
"use client";

import { useEffect, useState } from "react";
import { BackendPagination } from "@/types/pagination";
import { Movie } from "@/types/movie";

export function useMovies(query?: string) {
  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const [movies, setMovies] = useState<Movie[]>([]);
  const [page, setPage] = useState(1);
  const [pagination, setPagination] =
    useState<BackendPagination | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function fetchMovies() {
      setLoading(true);
      try {
        const params = new URLSearchParams({
          page: String(page),
          ...(query ? Object.fromEntries(new URLSearchParams(query)) : {}),
        });

        const res = await fetch(`${API_URL}/movies?${params}`);
        const data = await res.json();

        setMovies(data.data || []);
        setPagination(data.pagination);
      } catch (err) {
        console.error("Movies fetch error:", err);
      } finally {
        setLoading(false);
      }
    }

    fetchMovies();
  }, [API_URL, page, query]);


  useEffect(() => {
    setPage(1);
  }, [query]);

  return {
    movies,
    loading,
    page,
    setPage,
    pagination,
  };
}
</file>

<file path="src/app/genres/[id]/page.tsx">
import GenreDetailsComponent from "@/pages/genres/GenreDetails/GenreDetails";

export default function GenreDetails({
  params,
}: {
  params: Promise<{ id: string }>;
}) {
  return (
    <GenreDetailsComponent params={params} />
  )
}
</file>

<file path="src/app/movies/page.tsx">
// movies page component
import MoviesPageComponent from "@/pages/movies/movies";

export default function MoviesPage() {

  return (
    <>
      <MoviesPageComponent />
    </>
  );
}
</file>

<file path="src/pages/auth/forget-password/components/ForgotPasswordForm.tsx">
"use client";

//React & Next
import { useState } from "react";
import Link from "next/link";

//components
import Input from "@/components/ui/Input";
import PrimaryButton from "@/components/ui/PrimaryButton";

//hooks
import useForgotPassword from "../hooks/useForgotPassword";


export default function ForgotPasswordForm() {
  const { sendResetEmail, isLoading, error } = useForgotPassword();
  const [email, setEmail] = useState("");

  const onSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    await sendResetEmail(email);
  };

  return (
    <form onSubmit={onSubmit} className="space-y-6">

      {error && <p className="text-primary text-sm font-bold">{error}</p>}

      <Input
        label="Email"
        placeholder="example@mail.com"
        value={email}
        onChange={(e: React.ChangeEvent<HTMLInputElement>) => setEmail(e.target.value)}
      />

      <PrimaryButton isLoading={isLoading} type="submit">
        Send Reset Link
      </PrimaryButton>

      <div className="text-center">
        <Link href="/auth/login" className="text-primary text-sm hover:underline">
          Back to Login
        </Link>
      </div>

    </form>
  );
}
</file>

<file path="src/pages/auth/forget-password/forgetPassword.tsx">
//components
import AuthCard from "@/components/ui/AuthCard";
import AuthHeader from "@/components/ui/AuthHeader";
import ForgotPasswordForm from "@/pages/auth/forget-password/components/ForgotPasswordForm";

export default function ForgotPasswordPage() {
  return (
    <div className="w-full flex items-center justify-center">
   
      <AuthCard>
        <AuthHeader 
          title="Forgot Password"
          subtitle="Enter your email to receive a reset link"
        />

        <ForgotPasswordForm />
      </AuthCard>
    </div>
  );
}
</file>

<file path="src/pages/auth/forget-password/hooks/useForgotPassword.ts">
"use client"

// Next
import { useRouter } from "next/navigation";

//hooks
import useApiHandler from "@/lib/api/useApiHandler";

//path constant
import { PATHS } from "@/constant/PATHS";

export default function useForgotPassword() {
  const router = useRouter();
  const { post, isLoading, error } = useApiHandler();
  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const sendResetEmail = async (email: string) => {
    const res = await post(`${API_URL}/auth/forget-password`, { email });

    if (res.success) {
      router.push(PATHS.LOGIN);
    }

    return res.success;
  };

  return { sendResetEmail, isLoading, error };
}
</file>

<file path="src/pages/auth/login/hooks/useLogin.ts">
"use client"
//Next 
import { useRouter } from "next/navigation";

//path constant
import { PATHS } from "@/constant/PATHS";

//hooks
import useApiHandler from "@/lib/api/useApiHandler";

//validation Yup
import { LoginSchemaType } from "../validation";

//context
import { useAuth } from "@/contexts/AuthContext";

export default function useLogin() {
  const router = useRouter();
  const { post, isLoading, error } = useApiHandler();
  const { fetchUser } = useAuth();

  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const login = async (data: LoginSchemaType) => {
    const res = await post(`${API_URL}/auth/login`, data);

    if (res.success) {

      await fetchUser();

      router.push(PATHS.HOME);
    }

    return res.success;
  };

  return { login, isLoading, error };
}
</file>

<file path="src/pages/auth/reset-password/components/ResetPasswordForm.tsx">
"use client";

//components
import Input from "@/components/ui/Input";
import PrimaryButton from "@/components/ui/PrimaryButton";

//hooks
import { useForm } from "react-hook-form";
import { yupResolver } from "@hookform/resolvers/yup";
import useResetPassword from "../hooks/useResetPassword";

//validation Yup
import { resetPasswordSchema, ResetPasswordSchemaType } from "../validation";


export default function ResetPasswordForm({ token } : { token: string }) {
  const { resetPassword, isLoading, error } = useResetPassword();

  const { register, handleSubmit, formState: { errors } } =
    useForm<ResetPasswordSchemaType>({
      resolver: yupResolver(resetPasswordSchema),
      mode: "onBlur",
    });

  const onSubmit = async (data: ResetPasswordSchemaType) => {
    await resetPassword(token, data.password , data.confirmPassword);
  };

  return (
    <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">

      {error && <p className="text-primary text-sm font-bold">{error}</p>}

      <Input
        label="New Password"
        type="password"
        placeholder="******"
        error={errors.password?.message}
        {...register("password")}
      />

      <Input
        label="Confirm Password"
        type="password"
        placeholder="******"
        error={errors.confirmPassword?.message}
        {...register("confirmPassword")}
      />

      <PrimaryButton isLoading={isLoading} type="submit">
        Reset Password
      </PrimaryButton>

    </form>
  );
}
</file>

<file path="src/pages/auth/reset-password/hooks/useResetPassword.ts">
"use client"

//Next
import { useRouter } from "next/navigation";

//hooks
import useApiHandler from "@/lib/api/useApiHandler";

//path constant
import { PATHS } from "@/constant/PATHS";

export default function useResetPassword() {
  const router = useRouter();
  const { post, isLoading, error } = useApiHandler();
  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const resetPassword = async (
    token: string,
    password: string,
    confirmPassword: string
  ) => {
    const res = await post(`${API_URL}/auth/reset-password/${token}`, {
      password,
      confirmPassword,
    });

    if (res.success) {
      setTimeout(() => {
        router.push(PATHS.LOGIN);
      }, 1200);
    }

    return res.success;
  };

  return { resetPassword, isLoading, error };
}
</file>

<file path="src/pages/auth/reset-password/resetPassword.tsx">
//components
import AuthCard from "@/components/ui/AuthCard";
import AuthHeader from "@/components/ui/AuthHeader";
import ResetPasswordForm from "@/pages/auth/reset-password/components/ResetPasswordForm";

export default function ResetPasswordPage({ token } : { token: string }) {
  return (
    <div className="w-full flex items-center justify-center">

      <AuthCard>
        <AuthHeader 
          title="Reset Password"
          subtitle="Enter your new password below"
        />

        <ResetPasswordForm token={token} />   
      </AuthCard>
    </div>
  );
}
</file>

<file path="src/pages/auth/signup/hooks/useSignup.ts">
"use client"

//Next
import { useRouter } from "next/navigation";

//hooks
import useApiHandler from "@/lib/api/useApiHandler";

//validation Yup
import { SignupSchemaType } from "../validation";

//path constant
import { PATHS } from "@/constant/PATHS";

export default function useSignup() {
  const router = useRouter();
  const { post, isLoading, error } = useApiHandler();
  const API_URL = process.env.NEXT_PUBLIC_API_URL;

  const signup = async (data: SignupSchemaType) => {
    const res = await post(`${API_URL}/auth/signup`, data);

    if (res.success) {
      setTimeout(() => {
        router.push(PATHS.LOGIN);
      }, 1200);
    }

    return res.success;
  };

  return { signup, isLoading, error };
}
</file>

<file path="src/pages/home/components/Hero.tsx">
"use client";

// React & Next
import Image from "next/image";
import Link from "next/link";
import { useRef } from "react";

// paths
import { PATHS } from "@/constant/PATHS";

// hooks
import useHeroItems from "@/hooks/hero/useHeroItems";

// skeleton
import HeroSkeleton from "@/components/skeletons/HeroSkeleton";

type HeroType = "movies" | "series";

type HeroItem = {
  _id: string;
  name: string;
  description?: string;
  backdrop?: string; // Added the 'backdrop' property
};

type HeroSliderProps = {
  type: HeroType;
  limit?: number;
};

export default function Hero({
  type,
  limit = 5,
}: HeroSliderProps) {
  const {
    item,
    loading,
    activeIndex,
    total,
    setActiveIndex,
  } = useHeroItems({ type, limit });

  const startX = useRef<number | null>(null);

  /* ================= SKELETON ================= */
  if (loading || !item) {
    return <HeroSkeleton />;
  }

  /* ================= DATA ================= */
  const heroImage =
    item.backdrop && item.backdrop.trim() !== ""
      ? item.backdrop
      : "/assets/images/img_hero.jpg";

  const detailsHref =
    type === "movies"
      ? PATHS.MOVIE_DETAILS(item._id)
      : PATHS.SERIES_DETAILS(item._id);

  /* ================= UI ================= */
  return (
    <section
      className="relative w-full margin-bottom overflow-hidden"
      onTouchStart={(e) =>
        (startX.current = e.touches[0].clientX)
      }
      onTouchEnd={(e) => {
        if (!startX.current) return;
        const diff = startX.current - e.changedTouches[0].clientX;

        if (diff > 50)
          setActiveIndex((i) => (i + 1) % total);
        if (diff < -50)
          setActiveIndex((i) => (i - 1 + total) % total);

        startX.current = null;
      }}
    >
      <div className="relative h-[60vh] md:h-screen lg:h-[85vh]">

        {/* BACKGROUND IMAGE */}
        <Image
          key={item._id}
          src={heroImage}
          alt={item.name}
          fill
          priority
          className="object-cover animate-fade"
        />

        {/* OVERLAYS */}
        <div className="absolute inset-0 bg-hero-gradient" />
        <div className="absolute inset-0 bg-overlay" />

        {/* CONTENT */}
        <div className="absolute inset-0 flex items-end px-6 md:px-12 py-16">
          <div className="max-w-4xl text-white animate-fade-up">

            <h1 className="text-3xl md:text-5xl font-extrabold">
              {item.name}
            </h1>

            <p className="mt-4 text-white/90 max-w-2xl">
              {item.description ||
                "Featured content you should watch üì∫"}
            </p>

            <div className="mt-8 flex gap-4">
              <Link
                href={detailsHref}
                className="px-6 py-3 bg-white text-black rounded-2xl font-semibold"
              >
                Watch Now
              </Link>

              <Link
                href={type === "movies" ? PATHS.MOVIES : PATHS.SERIES}
                className="px-6 py-3 border border-white/30 rounded-2xl"
              >
                Browse {type}
              </Link>
            </div>
          </div>
        </div>

        {/* DOTS */}
        <div className="absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2">
          {Array.from({ length: total }).map((_, i) => (
            <button
              key={i}
              onClick={() => setActiveIndex(i)}
              className={`w-3 h-3 rounded-full transition
                ${
                  i === activeIndex
                    ? "bg-white"
                    : "bg-white/40"
                }`}
            />
          ))}
        </div>
      </div>
    </section>
  );
}
</file>

<file path="src/pages/home/index.tsx">
"use client";

//components
import { Container } from "@/components/containers/Container";


export default function HomePageComponent() {
  return (
    <Container>
      <h1>Welcome to the Movies App</h1>
      <p>Discover movies.</p>
    </Container>
  );
}
</file>

<file path="src/pages/movies/components/Movies.tsx">
"use client";

// React
import { useState } from "react";
import Image from "next/image";

// hooks
import { useMovies } from "../hooks/useMovies";
import { useGenres } from "@/pages/genres/hooks/useGenres";

// contexts
import { useFavorite } from "../../../contexts/FavoriteContext";

// icons
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { faHeart } from "@fortawesome/free-solid-svg-icons";
import { faHeart as faHeartRegular } from "@fortawesome/free-regular-svg-icons";

// components
import { Container } from "@/components/containers/Container";
import GridSkeleton from "@/components/skeletons/GridSkeleton";
import GenresTabsSkeleton from "@/components/skeletons/GenresTabsSkeleton";
import GenresSidebarSkeleton from "@/components/skeletons/GenresSidebarSkeleton";
import Pagination from "@/components/ui/Pagination";

export default function Movies() {
  /* ===== GENRES ===== */
  const { allGenres, activeTab, setActiveTab } = useGenres();

  const query =
    activeTab !== "0" ? `genresRefs=${activeTab}` : undefined;

  /* ===== MOVIES ===== */
  const {
    movies,
    loading,
    page,
    setPage,
    pagination,
  } = useMovies(query);

  /* ===== FAVORITES ===== */
  const { favoriteList, toggleFavorite } = useFavorite();

  const [sidebarOpen, setSidebarOpen] = useState(false);

  return (
    <>
      {/* ===== TOP GENRE TABS ===== */}
      <div className="flex items-center justify-center px-4 mb-5">
        {loading ? (
          <GenresTabsSkeleton />
        ) : (
          <div className="flex flex-wrap justify-center gap-4 bg-soft p-2 rounded-full w-full max-w-md sm:max-w-lg md:max-w-xl">
            {allGenres.slice(0, 4).map((genre) => (
              <button
                key={genre._id}
                onClick={() => setActiveTab(genre._id)}
                className={`px-4 sm:px-6 py-2 rounded-full transition
                  ${activeTab === genre._id
                    ? "bg-card shadow text-main"
                    : "text-muted hover:bg-card"
                  }`}
              >
                {genre.name_en}
              </button>
            ))}
          </div>
        )}
      </div>

      <Container>
        <div className="flex gap-6 px-4 py-10 relative">
          {/* ===== MOBILE GENRE BUTTON ===== */}
          {!loading && (
            <button
              className="md:hidden fixed bottom-5 right-6 btn-primary px-4 py-3 rounded-full shadow-lg z-50"
              onClick={() => setSidebarOpen(true)}
            >
              Genres
            </button>
          )}

          {/* ===== MOBILE GENRE MODAL ===== */}
          {!loading && sidebarOpen && (
            <div className="fixed inset-0 bg-overlay flex items-center justify-center z-50 md:hidden">
              <div className="bg-card w-80 p-6 rounded-2xl shadow-xl text-main">
                <h2 className="text-xl font-bold mb-4 text-primary">
                  Genres
                </h2>

                <div className="grid grid-cols-2 gap-3">
                  {allGenres.map((genre) => (
                    <button
                      key={genre._id}
                      onClick={() => {
                        setActiveTab(genre._id);
                        setSidebarOpen(false);
                      }}
                      className={`px-4 py-2 rounded-lg transition
                        ${activeTab === genre._id
                          ? "btn-primary text-white"
                          : "bg-card text-main hover:bg-soft"
                        }`}
                    >
                      {genre.name_en}
                    </button>
                  ))}
                </div>

                <button
                  className="mt-4 w-full btn-primary py-2 rounded-lg"
                  onClick={() => setSidebarOpen(false)}
                >
                  Close
                </button>
              </div>
            </div>
          )}

          {/* ===== DESKTOP SIDEBAR ===== */}
          {loading ? (
            <GenresSidebarSkeleton />
          ) : (
            <div className="hidden md:block w-64 bg-soft p-5 rounded-2xl h-fit sticky top-10">
              <h3 className="text-lg font-bold mb-4 text-primary">
                Genres
              </h3>

              <div className="grid grid-cols-2 gap-3">
                {allGenres.map((genre) => (
                  <button
                    key={genre._id}
                    onClick={() => setActiveTab(genre._id)}
                    className={`px-4 py-2 rounded-lg transition
                      ${activeTab === genre._id
                        ? "btn-primary text-white"
                        : "bg-card text-main hover:bg-soft"
                      }`}
                  >
                    {genre.name_en}
                  </button>
                ))}
              </div>
            </div>
          )}

          {/* ===== MOVIES GRID ===== */}
          <div className="flex-1 px-5">
            {loading ? (
              <GridSkeleton count={6} />
            ) : movies.length === 0 ? (
              <p className="text-center text-muted">
                No movies found for this genre.
              </p>
            ) : (
              <>
                <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                  {movies.map((item) => (
                    <div
                      key={item._id}
                      className="p-4 bg-card rounded-xl shadow transition hover:shadow-lg"
                    >
                      <div className="relative overflow-hidden rounded-lg">
                        <Image
                          src={
                            item.poster ||
                            "/assets/images/img_hero.jpg"
                          }
                          alt={item.name}
                          width={400}
                          height={300}
                          className="w-full h-50 object-cover transition-transform duration-500 hover:scale-110 mb-3"
                        />

                        <button
                          className="absolute top-3 right-3 bg-soft p-2 rounded-full shadow"
                          onClick={() => toggleFavorite({ id: item._id, type: "movies" })}
                        >
                          <FontAwesomeIcon
                            icon={
                              favoriteList.some(favorite => favorite.id === item._id)
                                ? faHeart
                                : faHeartRegular
                            }
                            className={`text-xl ${favoriteList.some(favorite => favorite.id === item._id)
                                ? "text-red-500"
                                : "text-muted"
                              }`}
                          />
                        </button>
                      </div>

                      <p className="font-bold mb-1">{item.name}</p>
                      <p className="text-sm text-muted">
                        {item.releaseYear}
                      </p>
                    </div>
                  ))}
                </div>

                {/* ===== PAGINATION ===== */}
                {pagination && (
                  <Pagination
                    pagination={pagination}
                    onChange={(p) => {
                      setPage(p);

                    }}
                  />
                )}
              </>
            )}
          </div>
        </div>
      </Container>
    </>
  );
}
</file>

<file path="src/types/series.ts">
export type Genre = {
  _id: string;
  name_en: string;
};

export type Cast = {
  _id: string;
  name: string;
  profilePath?: string;
  popularity?: number;
};

export type Series = {
  _id: string;
  name: string;
  description: string;
  poster?: string;
  backdrop?: string;
  genres?: Genre[];
  releaseYear?: number | string;
  cast: Cast[];
};
</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": [
        "./src/*"
      ]
    },
    "strictNullChecks": true
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts",
    "src/pages/account/login/.gitkeep"
  ],
  "exclude": [
    "node_modules"
  ]
}
</file>

<file path="next.config.ts">
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  reactCompiler: true,

  images: {
    remotePatterns: [
      {
        protocol: "https",
        hostname: "lh3.googleusercontent.com",
      },
      {
        protocol: "https",
        hostname: "image.tmdb.org",
      },
      {
        protocol: "https",
        hostname: "res.cloudinary.com",
      },
    ],
  },
};

export default nextConfig;
</file>

<file path="src/app/page.tsx">
// home page component
import HomePageComponent from "@/pages/home/Home";
import "./globals.css";

// components
import Header from "@/components/header/Header";

export default function HomePage() {
  return (
    <>
    <Header/>
    <HomePageComponent />
    </>
  );
}
</file>

<file path="src/components/header/Header.tsx">
"use client";

// React & Next
import { useState, useEffect, useRef } from "react";
import Link from "next/link";

//paths constant
import { PATHS } from "@/constant/PATHS";

//contexts
import { useAuth } from "@/contexts/AuthContext";
// import { useTheme } from "@/contexts/ThemeContext";

//render icons
import { Heart, Bookmark, Search } from "lucide-react";

//components
import DesktopNav from "./DesktopNav";
import UserMenu from "./UserMenu";
import MobileMenu from "./MobileMenu";
import SearchBar from "./SearchBar";

export default function Header() {
  const [showSearch, setShowSearch] = useState(false);
  const [notifOpen, setNotifOpen] = useState(false);
  const [userOpen, setUserOpen] = useState(false);
  const [menuOpen, setMenuOpen] = useState(false);

  const { isLoggedIn, loading } = useAuth();
  // const { theme, toggleTheme } = useTheme();

  const searchRef = useRef<HTMLInputElement | null>(null);

  // Auto-focus search input
  useEffect(() => {
    if (showSearch && searchRef.current) searchRef.current.focus();
  }, [showSearch]);

  // Close menus when clicking outside dropdown areas
  useEffect(() => {
    const handler = (e: MouseEvent) => {
      const target = e.target as HTMLElement;

      // If click is inside any dropdown ‚Üí don't close
      if (target.closest(".dropdown")) return;

      setNotifOpen(false);
      setUserOpen(false);
      setMenuOpen(false);
    };

    document.addEventListener("mousedown", handler);
    return () => document.removeEventListener("mousedown", handler);
  }, []);

  if (loading) return null;

  return (
    <header
      className="
        relative
        w-full
        top-0 left-0
        z-50
        backdrop-blur-md
        border-b
        transition-all duration-300
      "
      style={{
        backgroundColor: "var(--header-bg)",
        borderColor: "var(--header-border)"
      }}
    >
      <div className="max-w-7xl mx-auto px-4 md:px-6 py-3 flex items-center justify-between">

        {/* LOGO */}
        <Link href={PATHS.HOME} className="text-2xl md:text-3xl font-extrabold tracking-wide flex gap-1">
          <span className="text-primary">Movies</span>
          <span className="text-main">App</span>
        </Link>

        {/* DESKTOP NAV */}
        <DesktopNav />

        {/* RIGHT SIDE (Desktop) */}
        <div className="hidden md:flex items-center gap-5">

          {/* THEME SWITCH */}
          {/* <button onClick={toggleTheme} className="text-main hover:text-primary transition">
            {theme === "dark" ? <Sun size={22} /> : <Moon size={22} />}
          </button> */}

          {/* SEARCH ICON */}
          <button
            onClick={() => {
              setShowSearch(true);
              setNotifOpen(false);
              setUserOpen(false);
            }}
            className="text-main hover:text-primary transition"
          >
            <Search size={22} />
          </button>

          {!isLoggedIn && <Link href={`${PATHS.LOGIN}`} className={`w-full btn-primary px-3 py-2 rounded-lg font-semibold shadow-md hover:shadow-lg transition disabled:opacity-60 flex items-center justify-center gap-2`}>Login</Link>
          }



          {/* NOTIFICATIONS */}
          {/* <NotificationsMenu
            isLoggedIn={isLoggedIn}
            isOpen={notifOpen}
            setIsOpen={(v: boolean) => {
              setNotifOpen(v);
              if (v) setUserOpen(false);
            }}
            desktopOnly
          /> */}

          {/* USER MENU */}
          <UserMenu
            isLoggedIn={isLoggedIn}
            isOpen={userOpen}
            setIsOpen={(v: boolean) => {
              setUserOpen(v);
              if (v) setNotifOpen(false);
            }}
          />
        </div>

        {/* MOBILE ACTION BAR */}
        <div className="md:hidden flex items-center gap-4">

          {isLoggedIn && (
            <>
              {/* SEARCH */}
              <button
                onClick={() => {
                  setShowSearch(true);
                  setNotifOpen(false);
                  setMenuOpen(false);
                }}
                className="text-main hover:text-primary transition"
              >
                <Search size={22} />
              </button>

              {/* FAVORITES */}
              <Link href={PATHS.FAVORITES} className="text-main hover:text-primary transition">
                <Heart size={22} />
              </Link>

              {/* WATCHLIST */}
              <Link href={PATHS.WATCHLIST} className="text-main hover:text-primary transition">
                <Bookmark size={22} />
              </Link>

              {/* MOBILE NOTIFICATIONS */}
              {/* <NotificationsMenu
                isLoggedIn={isLoggedIn}
                isMobile
                isOpen={notifOpen}
                setIsOpen={(v: boolean) => {
                  setNotifOpen(v);
                  if (v) setMenuOpen(false);
                }}
              /> */}
            </>
          )}

          {/* MENU BUTTON (WITH FIXED TOGGLE) */}
          <button
            onClick={(e) => {
              e.stopPropagation();
              setMenuOpen((prev) => !prev);
              setNotifOpen(false);
              setUserOpen(false);
              setShowSearch(false);
            }}
            className="dropdown text-main text-3xl"
          >
            ‚ò∞
          </button>

        </div>
      </div>

      {/* MOBILE MENU */}
      <MobileMenu isOpen={menuOpen} setIsOpen={setMenuOpen} />

      {/* SEARCH BAR */}
      <SearchBar
        showSearch={showSearch}
        setShowSearch={setShowSearch}
        searchRef={searchRef}
      />
    </header>
  );
}
</file>

<file path="src/pages/series/components/Series.tsx">
"use client";

// React
import { useState } from "react";
import Image from "next/image";

// hooks
import { useMovies } from "../hooks/useMovies";
import { useGenres } from "@/pages/genres/hooks/useGenres";

// contexts
import { useFavorite } from "../../../contexts/FavoriteContext";

// icons
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { faHeart } from "@fortawesome/free-solid-svg-icons";
import { faHeart as faHeartRegular } from "@fortawesome/free-regular-svg-icons";

// components
import { Container } from "@/components/containers/Container";
import GridSkeleton from "@/components/skeletons/GridSkeleton";
import GenresTabsSkeleton from "@/components/skeletons/GenresTabsSkeleton";
import GenresSidebarSkeleton from "@/components/skeletons/GenresSidebarSkeleton";
import Pagination from "@/components/ui/Pagination";
import { useSeries } from "../hooks/useSeries";

export default function Movies() {
  /* ===== GENRES ===== */
  const { allGenres, activeTab, setActiveTab } = useGenres();

  const query =
    activeTab !== "0" ? `genres=${activeTab}` : undefined;

  /* ===== MOVIES ===== */
  const {
    series,
    loading,
    page,
    setPage,
    pagination,
  } = useSeries(query);

  /* ===== FAVORITES ===== */
  const { favoriteList, toggleFavorite } = useFavorite();

  const [sidebarOpen, setSidebarOpen] = useState(false);

  return (
    <>
      {/* ===== TOP GENRE TABS ===== */}
      <div className="flex items-center justify-center px-4 mb-5">
        {loading ? (
          <GenresTabsSkeleton />
        ) : (
          <div className="flex flex-wrap justify-center gap-4 bg-soft p-2 rounded-full w-full max-w-md sm:max-w-lg md:max-w-xl">
            {allGenres.slice(0, 4).map((genre) => (
              <button
                key={genre._id}
                onClick={() => setActiveTab(genre._id)}
                className={`px-4 sm:px-6 py-2 rounded-full transition
                  ${activeTab === genre._id
                    ? "bg-card shadow text-main"
                    : "text-muted hover:bg-card"
                  }`}
              >
                {genre.name_en}
              </button>
            ))}
          </div>
        )}
      </div>

      <Container>
        <div className="flex gap-6 px-4 py-10 relative">
          {/* ===== MOBILE GENRE BUTTON ===== */}
          {!loading && (
            <button
              className="md:hidden fixed bottom-5 right-6 btn-primary px-4 py-3 rounded-full shadow-lg z-50"
              onClick={() => setSidebarOpen(true)}
            >
              Genres
            </button>
          )}

          {/* ===== MOBILE GENRE MODAL ===== */}
          {!loading && sidebarOpen && (
            <div className="fixed inset-0 bg-overlay flex items-center justify-center z-50 md:hidden">
              <div className="bg-card w-80 p-6 rounded-2xl shadow-xl text-main">
                <h2 className="text-xl font-bold mb-4 text-primary">
                  Genres
                </h2>

                <div className="grid grid-cols-2 gap-3">
                  {allGenres.map((genre) => (
                    <button
                      key={genre._id}
                      onClick={() => {
                        setActiveTab(genre._id);
                        setSidebarOpen(false);
                      }}
                      className={`px-4 py-2 rounded-lg transition
                        ${activeTab === genre._id
                          ? "btn-primary text-white"
                          : "bg-card text-main hover:bg-soft"
                        }`}
                    >
                      {genre.name_en}
                    </button>
                  ))}
                </div>

                <button
                  className="mt-4 w-full btn-primary py-2 rounded-lg"
                  onClick={() => setSidebarOpen(false)}
                >
                  Close
                </button>
              </div>
            </div>
          )}

          {/* ===== DESKTOP SIDEBAR ===== */}
          {loading ? (
            <GenresSidebarSkeleton />
          ) : (
            <div className="hidden md:block w-64 bg-soft p-5 rounded-2xl h-fit sticky top-10">
              <h3 className="text-lg font-bold mb-4 text-primary">
                Genres
              </h3>

              <div className="grid grid-cols-2 gap-3">
                {allGenres.map((genre) => (
                  <button
                    key={genre._id}
                    onClick={() => setActiveTab(genre._id)}
                    className={`px-4 py-2 rounded-lg transition
                      ${activeTab === genre._id
                        ? "btn-primary text-white"
                        : "bg-card text-main hover:bg-soft"
                      }`}
                  >
                    {genre.name_en}
                  </button>
                ))}
              </div>
            </div>
          )}

          {/* ===== MOVIES GRID ===== */}
          <div className="flex-1 px-5">
            {loading ? (
              <GridSkeleton count={6} />
            ) : series.length === 0 ? (
              <p className="text-center text-muted">
                No movies found for this genre.
              </p>
            ) : (
              <>
                <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                  {series.map((item) => (
                    <div
                      key={item._id}
                      className="p-4 bg-card rounded-xl shadow transition hover:shadow-lg"
                    >
                      <div className="relative overflow-hidden rounded-lg">
                        <Image
                          src={
                            item.poster ||
                            "/assets/images/img_hero.jpg"
                          }
                          alt={item.name}
                          width={400}
                          height={300}
                          className="w-full h-50 object-cover transition-transform duration-500 hover:scale-110 mb-3"
                        />

                        <button
                          className="absolute top-3 right-3 bg-soft p-2 rounded-full shadow"
                          onClick={() => toggleFavorite({ id: item._id, type: "series" })}
                        >
                          <FontAwesomeIcon
                            icon={
                              favoriteList.some(favorite => favorite.id === item._id)
                                ? faHeart
                                : faHeartRegular
                            }
                            className={`text-xl ${favoriteList.some(favorite => favorite.id === item._id)
                                ? "text-red-500"
                                : "text-muted"
                              }`}
                          />
                        </button>
                      </div>

                      <p className="font-bold mb-1">{item.name}</p>
                      <p className="text-sm text-muted">
                        {item.releaseYear}
                      </p>
                    </div>
                  ))}
                </div>

                {/* ===== PAGINATION ===== */}
                {pagination && (
                  <Pagination
                    pagination={pagination}
                    onChange={(p) => {
                      setPage(p);

                    }}
                  />
                )}
              </>
            )}
          </div>
        </div>
      </Container>
    </>
  );
}
</file>

<file path="package.json">
{
  "name": "movies-app",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "@fortawesome/fontawesome-svg-core": "^7.1.0",
    "@fortawesome/free-regular-svg-icons": "^7.1.0",
    "@fortawesome/free-solid-svg-icons": "^7.1.0",
    "@fortawesome/react-fontawesome": "^3.1.1",
    "@hookform/resolvers": "^5.2.2",
    "lucide-react": "^0.561.0",
    "next": "16.0.5",
    "react": "19.2.0",
    "react-dom": "19.2.0",
    "react-hook-form": "^7.67.0",
    "react-hot-toast": "^2.6.0",
    "react-icons": "^5.5.0",
    "yup": "^1.7.1"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "babel-plugin-react-compiler": "1.0.0",
    "eslint": "^9",
    "eslint-config-next": "16.0.5",
    "tailwindcss": "^4",
    "typescript": "^5"
  }
}
</file>

<file path="src/app/globals.css">
@import "tailwindcss";

/* ================================================
   üé¨ MOVIES APP ‚Äì GLOBAL COLOR SYSTEM (Tailwind v4)
   - Fully Dynamic (CSS Variables)
   - Light / Dark Mode
   - Cinematic UI Ready
================================================ */

/* ============================
   DARK MODE (DEFAULT)
=============================== */
:root {
  /* BRAND */
  --color-primary: #e50914;
  --color-secondary: #3a86ff;
  --color-accent: #ff006e;

  /* STATUS */
  --color-warning: #ffbe0b;
  --color-success: #2ecc71;
  --color-danger: #e63946;

  /* BACKGROUNDS */
  --color-background: #0a0a0a;
  --color-background-soft: #111111;
  --color-background-card: #1f1f1f;

  /* TEXT */
  --color-text: #ffffff;
  --color-text-muted: #9ca3af;
  --color-text-soft: #cfcfcf;

  /* BORDERS */
  --color-border: #2b2b2b;

  /* BUTTONS */
  --color-btn-primary: #e50914;
  --color-btn-primary-hover: #b20710;

  /* OVERLAY */
  --color-overlay: rgba(0, 0, 0, 0.55);

  /* HERO GRADIENT */
  --color-hero-gradient-start: rgba(0, 0, 0, 0.45);
  --color-hero-gradient-middle: rgba(0, 0, 0, 0.25);
  --color-hero-gradient-end: rgba(0, 0, 0, 0.45);
}

/* ============================
   LIGHT MODE
=============================== */
html.light {
  /* BACKGROUNDS */
  --color-background: #ffffff;
  --color-background-soft: #f4f4f5;
  --color-background-card: #fafafa;

  /* TEXT */
  --color-text: #0a0a0a;
  --color-text-muted: #636363;
  --color-text-soft: #2d2d2d;

  /* BORDERS */
  --color-border: #d4d4d8;

  /* BUTTONS */
  --color-btn-primary: #e50914;
  --color-btn-primary-hover: #b20710;

  /* OVERLAY */
  --color-overlay: rgba(59, 55, 55, 0.3);

  /* HERO GRADIENT */
  /* --color-hero-gradient-start: rgba(255, 255, 255, 0.8); */
  --color-hero-gradient-middle: rgba(141, 131, 131, 0.8);
  --color-hero-gradient-end: rgba(90, 88, 88, 0.3);
}

/* ============================
   GLOBAL TRANSITIONS
=============================== */
html {
  transition: background-color 0.35s ease, color 0.35s ease,
    border-color 0.35s ease;
}

* {
  transition: background-color 0.35s ease, color 0.35s ease,
    border-color 0.35s ease;
}

/* ============================
   BASE STYLES
=============================== */
body {
  background-color: var(--color-background);
  color: var(--color-text);
  font-family: ui-sans-serif, system-ui, -apple-system, sans-serif;
}

/* ============================
   UTILITY CLASSES
=============================== */

/* Backgrounds */
.bg-main {
  background-color: var(--color-background);
}
.bg-soft {
  background-color: var(--color-background-soft);
}
.bg-card {
  background-color: var(--color-background-card);
}

/* Text */
.text-main {
  color: var(--color-text);
}
.text-muted {
  color: var(--color-text-muted);
}
.text-soft {
  color: var(--color-text-soft);
}
.text-primary {
  color: var(--color-primary);
}

/* Borders */
.border-main {
  border-color: var(--color-border);
}

/* ============================
   BUTTONS
=============================== */
.btn-primary {
  background-color: var(--color-btn-primary);
  color: #ffffff;
}
.btn-primary:hover {
  background-color: var(--color-btn-primary-hover);
}

.btn-secondary {
  background-color: transparent;
  color: var(--color-text);
  border: 1px solid var(--color-border);
}
.btn-secondary:hover {
  background-color: var(--color-background-soft);
}

.btn-ghost {
  background-color: transparent;
  color: var(--color-text-muted);
}
.btn-ghost:hover {
  color: var(--color-text);
}

/* ============================
   OVERLAYS & HERO
=============================== */

.text-hero {
  color: #ffffff;
}

.text-hero-muted {
  color: rgba(255, 255, 255, 0.9);
}
.bg-overlay {
  background-color: var(--color-overlay);
}

.bg-hero-gradient {
  background: linear-gradient(
    to bottom,
    var(--color-hero-gradient-start),
    var(--color-hero-gradient-middle),
    var(--color-hero-gradient-end)
  );
}

/* ============================
   SPINNER
=============================== */
.spinner {
  border-color: var(--color-border);
  border-top-color: transparent;
}

/* ============================
   GLOBAL HELPERS
=============================== */
.margin-bottom {
  margin-bottom: 100px;
}

/* ============================
   DROPDOWN ANIMATIONS
=============================== */
@keyframes dropdownOpen {
  0% {
    opacity: 0;
    transform: translateY(-6px) scale(0.97);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-dropdown-open {
  animation: dropdownOpen 0.18s ease-out forwards;
}

@keyframes dropdownClose {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-6px) scale(0.97);
  }
}

.animate-dropdown-close {
  animation: dropdownClose 0.15s ease-in forwards;
}




@keyframes fade {
  from { opacity: 0 }
  to { opacity: 1 }
}
.animate-fade {
  animation: fade 0.8s ease-in-out;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px) }
  to { opacity: 1; transform: translateY(0) }
}
.animate-fade-up {
  animation: fadeUp 0.6s ease-out;
}
</file>

<file path="src/app/layout.tsx">
import type { Metadata } from "next";
import "./globals.css";
import { Toaster } from "react-hot-toast";
import { AuthProvider } from "@/contexts/AuthContext";
import { ThemeProvider } from "@/contexts/ThemeContext";
import { LangProvider } from "@/contexts/LangContext";
import { FavoriteProvider } from "@/contexts/FavoriteContext";


export const metadata: Metadata = {
  title: "Movies App",
  description: "Browse movies, series, actors and more.",
};

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body className="bg-main text-main" suppressHydrationWarning>
        <FavoriteProvider>
          <AuthProvider>
            <ThemeProvider>
              <LangProvider>
                {children}
              </LangProvider>
            </ThemeProvider>
          </AuthProvider>
        </FavoriteProvider>

        <Toaster
          position="top-right"
          toastOptions={{
            style: {
              background: "#111",
              color: "#fff",
              border: "1px solid #333",
            },
          }}
        />
    
      </body>
    </html>
  );
}
</file>

<file path="src/constant/PATHS.ts">
export const PATHS = {
  HOME: "/",

  MOVIES: "/movies",
  MOVIE_DETAILS: (id: string | number) => `/movies/${id}`,


  SERIES: "/series",
  SERIES_DETAILS: (id: string | number) => `/series/${id}`,

  ACTORS: "/actors",
  ACTOR_DETAILS: (id: string | number) => `/actors/${id}`,

  GENRES: "/genres",
  GENRE_DETAILS: (id: string | number) => `/genres/${id}`,

  FAVORITES: "/account/favorites",
  WATCHLIST: "/account/watchlist",


  // Auth
  LOGIN: "/auth/login",
  SIGNUP: "/auth/signup",
  FORGOT_PASSWORD: "/auth/forget-password",

  // Account
  PROFILE: "/account/profile",
  PROFILE_EDIT: "/account/profile/edit",
  CHANGE_PASSWORD: "/account/profile/change-password",
  SETTINGS: "/account/settings",



} as const;
</file>

</files>
